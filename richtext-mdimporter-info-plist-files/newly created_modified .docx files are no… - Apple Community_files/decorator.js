!function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=75)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TAB_KEY:9,ENTER_KEY:13,ESC_KEY:27,SPACE_KEY:32,UP_KEY:38,DOWN_KEY:40,RIGHT_KEY:39,LEFT_KEY:37}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SMALL_VIEWPORT_MAX_WIDTH:735,TABLET_VIEWPORT_MAX_WIDTH:767,AJAX_REQUEST_TIMEOUT:3e4,USER_DATA_THROTTLE_TIME:3e4,LEADERBOARD_DATA_THROTTLE_TIME:6e4,SUBCOMMUNITY_POSTS_DATA_THROTTLE_TIME:3e5,ARTICLE_POSTS_DATA_THROTTLE_TIME:3e5,BROWSE_POSTS_DATA_THROTTLE_TIME:3e5,THREAD_POSTS_DATA_THROTTLE_TIME:6e4,SEARCH_DATA_THROTTLE_TIME:3e4,GAMIFICATION_DATA_MAX_AGE:6048e5,LOCAL_STORAGE_VERSION:7,LOCAL_STORAGE_PREFIX:"apple-communities"}},function(e,t,n){"use strict";function o(e){e.classList.remove("hidden")}function a(e){e.classList.add("hidden")}function s(e){e.forEach(function(e){o(e)})}function r(e){e.forEach(function(e){a(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.showElement=o,t.hideElement=a,t.showElements=s,t.hideElements=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(){var e={prodDomains:{en:"discussions.apple.com",es:"communities.apple.com/es",pt:"communities.apple.com/pt",fr:"communities.apple.com/fr",de:"communities.apple.com/de",zh:"discussionschinese.apple.com",ko:"discussionskorea.apple.com",ja:"discussionsjapan.apple.com"},uatDomains:{en:"discussions-uat.corp.apple.com",es:"communities-uat.rno.apple.com/es",pt:"communities-uat.rno.apple.com/pt",fr:"communities-uat.rno.apple.com/fr",de:"communities-uat.rno.apple.com/de",zh:"discnzh-uat.corp.apple.com",ko:"discnkr-uat.corp.apple.com",ja:"discnjp-uat.corp.apple.com"}};return"https://"+e[function(){var e=["discussions-stage.rno.apple.com","discussions-kr-stage.prz.apple.com","discussions-jp-stage.prz.apple.com","discussions-cn-stage.prz.apple.com","communities-stage.prz.apple.com","discussions.apple.com","communities.apple.com","discussionschinese.apple.com","discussionskorea.apple.com","discussionsjapan.apple.com"],t=window.location.host;return e.includes(t)?"prodDomains":"uatDomains"}()][_store.lang]}function s(e){var t=e.keys,n=e.url,o=e.savingOptions,a=e.mockDataOptions,s=e.requestOptions,r=function(e){return Object.assign({keys:t,data:e},o)};if(!_store.disableClientCache){var i=(0,F.readData)(t);if(i)return new Promise(function(e){e(i)})}if(a&&a.data)return new Promise(function(e){setTimeout(function(){e(a.data),(0,F.saveData)(r(a.data))},a.timeout)});var u=""+_store.basePath+n,l=s||{};return(0,R.get)(u,l).then(function(e){return B.log("Data loaded",e),_store.disableClientCache||(0,F.saveData)(r(e)),e})}function r(e){return Object.keys(e).length?"?"+Object.keys(e).filter(function(t){return e[t]}).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&"):""}function i(){return s({keys:["gamification"],url:"/gamification/properties",savingOptions:{saveToLocalStorage:!0,localStorageMaxAge:W},mockDataOptions:{timeout:2e3}})}function u(e){return s({keys:["user",e],url:"/gamification/state/"+e,savingOptions:{maxAge:K},mockDataOptions:{timeout:2e3}})}function l(e,t){var n=_store.i18n("subCommunity.leaderBoard.community"),o=e;return o||(o="weekly"),s({keys:["leaderboard",o,t],url:"/leaderboard/"+n+"/"+o+"/"+t,savingOptions:{maxAge:Y},mockDataOptions:{timeout:2e3},requestOptions:{handlebarsHeader:!0}})}function c(e,t,n){var o=e||"weekly";(0,F.saveData)({keys:["leaderboard",o,t],data:n,maxAge:Y})}function d(e,t,n){return s({keys:["subcommunity-posts",e,t,n],url:"/community/questions/filter"+r({communityId:_store.i18n("subCommunity.subCommunityId"),type:t,category:n,page:e}),savingOptions:{maxAge:V},mockDataOptions:{timeout:4e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function p(e,t,n,o){(0,F.saveData)({keys:["subcommunity-posts",e,t,n],data:o,maxAge:V})}function f(e,t,n){return s({keys:["article-posts",e,t,n],url:"/article/questions/filter"+r({articleId:_store.i18n("article.articleId"),page:t,perPage:n,type:e}),savingOptions:{maxAge:J},mockDataOptions:{timeout:3e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function m(e,t,n,o){(0,F.saveData)({keys:["article-posts",e,t,n],data:o,maxAge:J})}function h(e,t,n,o,a){return s({keys:["browse",e,t,n,o,a],url:"/article/questions/filter"+r({content:e,type:t,category:n,page:o,perPage:a}),savingOptions:{maxAge:G},mockDataOptions:{timeout:1e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function v(e,t,n,o,a,s){(0,F.saveData)({keys:["browse",e,t,n,o,a],data:s,maxAge:G})}function g(e,t){return s({keys:["thread",e,t],url:"/community/thread/"+e+r({page:t}),savingOptions:{maxAge:X},mockDataOptions:{timeout:1e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function y(e,t,n){(0,F.saveData)({keys:["thread",e,t],data:n,maxAge:X})}function b(e,t,n,o,a,i,u,l,c){var d=r({q:e,page:t,perPage:n,content:o,community:a,author:i,type:u,time:l,sortBy:c});return s({keys:["search",e.replace(/\s+/g,"-").toLowerCase(),t,n,o,a,i,u,l,c],url:"/search/filter"+d,savingOptions:{maxAge:z},mockDataOptions:{timeout:1e3},requestOptions:{jsonHeader:!0}})}function _(e){return(0,R.get)(_store.basePath+"/community/youtube/"+e+"/valid")}function w(e){if(_store.user.legacyId)return(0,R.put)(a()+"/api/core/v3/people/"+_store.user.legacyId+"/@following/"+e,{})}function E(e){if(_store.user.legacyId)return(0,R.del)(a()+"/api/core/v3/people/"+_store.user.legacyId+"/@following/"+e,{})}function k(e){if(_store.user.legacyId)return new Promise(function(t,n){(0,R.get)(a()+"/api/core/v3/people/"+_store.user.legacyId+"/@following/"+e,{}).then(function(){t(JSON.stringify({following:!0}))},function(e){409===JSON.parse(e.message).code?t(JSON.stringify({following:!1})):n(Error(404))})})}function A(e){return e?(0,R.post)(a()+"/__services/v2/rest/stream-config/user/associations/manage",{data:[{objectType:"1",objectID:e}],jsonHeader:!0,handlebarsHeader:!1}):void console.error("Unable to follow since the topic id is not present")}function S(e){return e?(0,R.del)(a()+"/__services/v2/rest/stream-config/1/"+e,{handlebarsHeader:!1}):void console.error("Unable to unfollow since the topic id is not present")}function T(e,t,n){return e?(0,R.post)(a()+"/message-abuse.jspa",{data:[{objectType:"1",objectID:e,abuseTypeKey:t,comment:n}],jsonHeader:!0,handlebarsHeader:!1}):void console.error("Unable to report since the topic id is not present")}function L(e){return e?(0,R.post)(a()+"/__services/v2/rest/stream-config/user/associations/manage",{data:[{objectType:"14",objectID:e}],jsonHeader:!0,handlebarsHeader:!1}):void console.error("Unable to follow since the community id is not present")}function O(e){return e?(0,R.del)(a()+"/__services/v2/rest/stream-config/14/"+e,{handlebarsHeader:!1}):void console.error("Unable to unfollow since the community id is not present")}function D(e){return(0,R.get)(a()+"/__services/v2/rest/askaquestion/?containerType=14&containerID=1&includeResultCount=true&wholeCommunityScope=true&recursive=false&q='"+e.trim()+"'")}function M(){}function x(e){var t=encodeURIComponent(e);return(0,R.get)(_store.basePath+"/signup/validate/"+t,{handlebarsHeader:!0})}function C(e){var t=encodeURIComponent(e);return(0,R.post)(_store.basePath+"/signup/create/"+t+"/"+!0,{handlebarsHeader:!0})}function I(e){return(0,R.get)(_store.basePath+"/search/user/filter?user="+e.trim())}function P(){return new Promise(function(e){setTimeout(function(){return e(Math.round(Math.random()))},200)})}function j(){_store||(_store={}),(0,F.initStorage)()}Object.defineProperty(t,"__esModule",{value:!0}),t.getGamificationData=i,t.getUserData=u,t.getLeaderBoardUsers=l,t.saveLeaderBoardUsers=c,t.getSubcommunityPosts=d,t.saveSubcommunityPosts=p,t.getArticlePosts=f,t.saveArticlePosts=m,t.getBrowsePosts=h,t.saveBrowsePosts=v,t.getThreadPosts=g,t.saveThreadPosts=y,t.getSearchResults=b,t.validateYouTubeVideo=_,t.followUser=w,t.unfollowUser=E,t.isFollowingUser=k,t.followTopic=A,t.unfollowTopic=S,t.reportTopic=T,t.followCommunity=L,t.unfollowCommunity=O,t.getSearchSuggesstions=D,t.isUsernameTaken=M,t.validateUserName=x,t.createUser=C,t.getUsersSuggestions=I,t.updateUserPreference=P,t.init=j;var R=n(15),q=n(4),H=o(q),U=n(1),N=o(U),F=n(17),B=new H.default("Store"),K=N.default.USER_DATA_THROTTLE_TIME,Y=N.default.LEADERBOARD_DATA_THROTTLE_TIME,V=N.default.SUBCOMMUNITY_POSTS_DATA_THROTTLE_TIME,J=N.default.ARTICLE_POSTS_DATA_THROTTLE_TIME,W=N.default.GAMIFICATION_DATA_MAX_AGE,G=N.default.BROWSE_POSTS_DATA_THROTTLE_TIME,X=N.default.THREAD_POSTS_DATA_THROTTLE_TIME,z=N.default.SEARCH_DATA_THROTTLE_TIME},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(8),r=function(e){return e&&e.__esModule?e:{default:e}}(s),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";o(this,e),this.namespace=t,this.shouldLog="yup"===r.default.getParam("showLogs")}return a(e,[{key:"log",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.shouldLog&&console.log(this.namespace.toUpperCase()+": ",t)}}]),e}();t.default=i},function(e,t,n){"use strict";function o(e,t){var n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)}function a(e,t){window.addEventListener(e,function(e){t(e.detail)},!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.fire=o,t.on=a;t.messages={createPost:"create-post-mobile",toMobileSearch:"to-mobile-search",hideAllForVoiceover:"hide-all",showAllForVoiceover:"show-all",onloadPageSpecificData:"onload-page-specific-data",focusMobileSubNav:"focus-mobile-sub-nav"}},function(e,t,n){"use strict";function o(e){var t=e.getAttribute("href");if(!t)return!1;for(var n=!1,o=0;!n&&o<f.length;)t.substring(0,f[o].length)===f[o]&&(n=!0),o++;return n}function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=function(e){n&&e.preventDefault(),t()};"A"===e.nodeName&&o(e)||(e.addEventListener("click",function(e){a(e)}),e.addEventListener("keydown",function(t){(t.keyCode===p.default.SPACE_KEY&&"A"!==e.nodeName||t.keyCode===p.default.ENTER_KEY)&&a(t)}))}function s(e,t){"A"===e.nodeName&&o(e)||e.addEventListener("contextmenu",function(){t()})}function r(e,t){a(e,function(){t();var n=e.getAttribute("href");/^https?:\/\//i.test(n)||"//"===n.substring(0,2)?window.location.href=n:window.location.href=window.location.origin+n}),s(e,t)}function i(e,t,n){r(e,function(){var o={link_text:e.textContent,dest_url:e.getAttribute("href")};n&&(o=Object.assign(o,n)),(0,c.onAction)(t,o)})}function u(e,t,n){function o(){e.checked?t():n&&n()}e.addEventListener("change",function(){o()}),e.addEventListener("keydown",function(e){e.keyCode!==p.default.ENTER_KEY&&e.keyCode!==p.default.SPACE_KEY||o()})}function l(e,t,n){a(e,function(){(0,c.onAction)(t,n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.addGeneralListeners=a,t.addRightClickListener=s,t.addListenersOnLink=r,t.addLinkListeners=i,t.addListenersOnCheckbox=u,t.addButtonListeners=l;var c=n(7),d=n(0),p=function(e){return e&&e.__esModule?e:{default:e}}(d),f=["mailto:","tel:"]},function(e,t){e.exports=DTML},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(){function e(){o(this,e),this.origin=window.location.origin,this.pathname=window.location.pathname,this.params=function(){var e=window.location.search.substr(1);if(!e)return{};var t={};return e.split("&").forEach(function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}),t}(),this.pathParts="/"===this.pathname.charAt(this.pathname.length-1)?this.pathname.substring(1,this.pathname.length-1).split("/"):this.pathname.substring(1,this.pathname.length).split("/")}return a(e,[{key:"addParam",value:function(e,t){this.params[e]=t,this.setWindowURL()}},{key:"removeParam",value:function(e){delete this.params[e],this.setWindowURL()}},{key:"getParam",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.params[e]||t}},{key:"getCurrentURL",value:function(){var e=this,t="";return Object.keys(this.params).forEach(function(n){t+=n+"="+encodeURIComponent(e.params[n])+"&"}),t=t.substr(0,t.length-1)}},{key:"setWindowURL",value:function(){var e=this.getCurrentURL();e&&(e="?"+e),window.history.pushState(null,null,""+this.origin+this.pathname+e)}}]),e}();t.default=new s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],a=t;return a.shift(),a.forEach(function(e,t){o=o.replace("{"+t+"}",e)}),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return'\n    <div class="error-box">\n      <p><strong>'+_store.i18n("common.error.title")+"</strong></p>\n      <p>\n        "+("page"===e?_store.i18n("common.error.pageAjaxFailed"):_store.i18n("common.error.componentAjaxFailed"))+"\n      </p>\n    </div>\n  "}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={en:"en-US",es:"es-ES",pt:"pt-BR",de:"de-DE",fr:"fr-FR",zh:"zh-CN",ko:"ko-KR",ja:"ja-JP"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=function(n){var o=function(e){return n.target===e||e.contains(n.target)},a=!1;if(e.forEach&&e.length>0)for(var s=0;!a&&s<e.length;)a=o(e[s]),s++;else a=o(e);a||t()};document.addEventListener("click",function(e){n(e)}),document.addEventListener("touchstart",function(e){n(e)})}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={localeMatcher:"best fit",style:"decimal"},o=void 0;return t?(o=a.default[t])||(console.error("NUMBERFORMAT: Can't find local for language "+t+". Default to English."),o=a.default.en):console.error("NUMBERFORMAT: Lang is not provided. Default to English."),e.toLocaleString(o,n)};var o=n(11),a=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.timeout||(n.timeout=d),n.jsonHeader||(n.jsonHeader=!1),new Promise(function(o,a){var s=new XMLHttpRequest;s.open(t,e),s.timeout=n.timeout,n.handlebarsHeader&&s.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.jsonHeader&&s.setRequestHeader("Content-Type","application/json"),s.onload=function(){200===s.status||204===s.status?o(s.response):a(Error(JSON.stringify({title:"Loading failed",data:s.response,code:s.status})))},s.onerror=function(){a(Error(JSON.stringify({title:"There was a network error.",message:s.statusText,code:s.status})))},s.ontimeout=function(){a(Error("There was a network error: Timeout"))},n.data?s.send(JSON.stringify(n.data)):s.send()})}function a(e){return o(e,"GET",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function s(e){return o(e,"POST",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function r(e){return o(e,"DELETE",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function i(e){return o(e,"PUT",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function u(e){var t=e.indexOf("{"),n=e.substring(t,e.length);return JSON.parse(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.get=a,t.post=s,t.del=r,t.put=i,t.parse=u;var l=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(l),d=c.default.AJAX_REQUEST_TIMEOUT},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t,n,o,s){Array.isArray(n)||(n=Array.from(n));var r=void 0;r=e?[].concat(a(n.slice(t+1,n.length)),a(n.slice(0,t+1))):[].concat(a(n.slice(t,n.length)),a(n.slice(0,t))).reverse();var i=r[0];o&&(i=r.find(function(e){var t="input"===e.tagName.toLowerCase()&&"checkbox"===e.getAttribute("type");return!t&&(0,l.default)(e)&&!e.disabled||t&&s})),i.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];n&&window.addEventListener("keydown",function(t){(!e||e&&e.checked)&&t.keyCode===i.default.ESC_KEY&&n()}),t&&t.forEach(function(n,r){n.addEventListener("keydown",function(n){if((e&&e.checked||!e)&&n.keyCode===i.default.TAB_KEY){n.preventDefault();var u=!0;n.shiftKey&&(u=!1),s(u,r,t,o,a)}})})};var r=n(0),i=o(r),u=n(27),l=o(u)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;return _+"-"+e+"-"+_store.lang+"-"+t}function r(){for(var e=0;e<b;e++)!function(e){var t=s("hashes",e),n=JSON.parse(localStorage.getItem(t));n&&n.forEach&&(n.forEach(function(t){var n=s(t,e);localStorage.removeItem(n),y.log("Old local storage key removed. Key: "+n)}),localStorage.removeItem(t),y.log("Old local storage list of keys removed. Key: "+t))}(e)}function i(e,t){var n=s("hashes"),o=JSON.parse(localStorage.getItem(n));o||(o=[]);var r=[].concat(a(o));if("add"===t)r.push(e);else if("remove"===t){var i=r.indexOf(e);r.splice(i,1)}r!==o&&(localStorage.setItem(n,JSON.stringify(r)),y.log("List of hashes stored in local storage updated. Local storage key: "+n+". Old hashes: "+o+". New hashes "+r))}function u(){var e=s("hashes"),t=JSON.parse(localStorage.getItem(e));t&&t.forEach?(y.log("Found data in local storage. Hashes:",t),t.forEach(function(e){var t=s(e),n=JSON.parse(localStorage.getItem(t));if(n){if((new Date).getTime()>n.timestamp+n.localStorageMaxAge)y.log("Local storage data expired. Removing from local storage. Hash: "+e+". Local storage key: "+t,n),localStorage.removeItem(t),i(e,"remove");else{y.log("Data retrived from local storage. Hash: "+e+". Local storage key: "+t,n);var o={keys:n.keys,data:n.data};n.maxAge&&(o.maxAge=n.maxAge),d(o)}}})):y.log("No data in local storage found")}function l(e){var t=c(e.keys),n=s(t);e.timestamp=(new Date).getTime(),localStorage.setItem(n,JSON.stringify(e)),y.log("Data saved to local storage. Hash: "+t+" Local storage key: "+n,e),i(t,"add")}function c(e){return e.join("-")}function d(e){var t=c(e.keys),n={data:e.data,updateNeeded:!1};e.maxAge&&"number"==typeof e.maxAge&&(n.updateTimeout=setTimeout(function(){n.updateNeeded=!0,y.log("Data expired. Hash: "+t)},e.maxAge)),_store._storage[t]?y.log("Data overwritten. Hash: "+t):y.log("Data saved. Hash: "+t),_store._storage[t]=n,e.saveToLocalStorage&&l(e)}function p(e){var t=c(e),n=_store._storage[t];return n&&!n.updateNeeded?(y.log("Data retrived. Hash: "+t),n.data):(y.log("Data not found. Hash: "+t),null)}function f(){_store._storage||(_store._storage={}),_store._readData||(_store._readData=p),_store._saveData||(_store._saveData=d),u(),r()}Object.defineProperty(t,"__esModule",{value:!0}),t.saveData=d,t.readData=p,t.initStorage=f;var m=n(1),h=o(m),v=n(4),g=o(v),y=new g.default("Storage"),b=h.default.LOCAL_STORAGE_VERSION,_=h.default.LOCAL_STORAGE_PREFIX},,,,,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(16),i=o(r),u=n(14),l=o(u),c=n(3),d=n(5),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),f=n(0),m=o(f),h=n(2),v=n(10),g=o(v),y=n(28),b=o(y),_=function(){function e(){a(this,e),this._shown=!1,this.users=null,this._template=null,this.overlay=null,this.popup=null,this.wrapper=null,this.profile=null,this.close=null,this.prevFocus=null}return s(e,[{key:"addCloseEvents",value:function(){var e=this;this.close.addEventListener("click",function(){e.shown=!1}),this.close.addEventListener("keydown",function(t){t.keyCode!==m.default.ENTER_KEY&&t.keyCode!==m.default.SPACE_KEY||(t.preventDefault(),e.shown=!1)})}},{key:"createWrapper",value:function(){this.overlay=document.createElement("div"),this.overlay.classList.add("user-profile-overlay"),this.popup=document.createElement("div"),this.popup.classList.add("user-profile-popup"),this.popup.setAttribute("data-action","user-profile-popup"),this.popup.setAttribute("role","dialog"),this.popup.setAttribute("aria-labelledby","user-profile-popup-title"),this.popup.setAttribute("tabindex","-1"),this.wrapper=document.createElement("div"),this.wrapper.classList.add("user-profile-wrapper"),this.wrapper.setAttribute("data-action","user-profile-popup-wrapper"),this.profile=document.createElement("div"),this.profile.classList.add("profile-data"),this.close=document.createElement("button"),this.close.classList.add("icon"),this.close.classList.add("icon-close"),this.close.classList.add("close-popup"),this.close.setAttribute("aria-label",_store.i18n("common.user.a11y.closePopup")),this.overlay.appendChild(this.popup),this.popup.appendChild(this.wrapper),this.wrapper.appendChild(this.profile),document.querySelector("body").appendChild(this.overlay)}},{key:"addSlidingFunctionality",value:function(e){b.default.init(this.wrapper,e);var t=this.popup.querySelectorAll('[data-action="user-award"]'),n=this.popup.querySelectorAll('[data-action="user-speciality"]');if(t){var o={type:"award",items:[]};t.forEach(function(t,n){o.items.push({id:e.awards[n].id,element:t})}),b.default.addEvents(o)}if(n){var a={type:"expertise",items:[]};n.forEach(function(t,n){a.items.push({id:e.expertise[n].id,element:t})}),b.default.addEvents(a)}}},{key:"addFollowUnfollowEvents",value:function(e){var t=this.popup.querySelector('[data-action="user-popup-follow"]'),n=this.popup.querySelector('[data-action="user-popup-unfollow"]');t&&n&&(t.addEventListener("click",function(){(0,c.followUser)(e.legacyId).then(function(){(0,h.hideElement)(t),(0,h.showElement)(n)})}),n.addEventListener("click",function(){(0,c.unfollowUser)(e.legacyId).then(function(){(0,h.hideElement)(n),(0,h.showElement)(t)})}))}},{key:"showFollowUnfollowButtons",value:function(e){var t=this.popup.querySelector('[data-action="user-popup-follow"]'),n=this.popup.querySelector('[data-action="user-popup-unfollow"]');(0,c.isFollowingUser)(e.legacyId).then(function(e){JSON.parse(e).following?((0,h.hideElement)(t),(0,h.showElement)(n)):((0,h.hideElement)(n),(0,h.showElement)(t))},function(t){console.error("Unable to know if user:",_store.user.legacyId,"is following:",e.legacyId,t)})}},{key:"addEvents",value:function(){var e=this,t=function(t,n){var o="keydown"===t.type;if(o&&t.keyCode===m.default.ENTER_KEY||t.keyCode===m.default.SPACE_KEY||!o){t.preventDefault(),e.prevFocus=n.element,e.template='<div class="spinner"></div>';var a=(0,c.getGamificationData)(),s=(0,c.getUserData)(n.id);Promise.all([a,s]).then(function(t){var n=JSON.parse(t[1]),o=JSON.parse(t[0]);if(!n.userId)return void(e.template=(0,g.default)());var a=e.constructor.transformUserData(n);a.isEmployee?e.popup.classList.add("employee"):e.popup.classList.remove("employee"),e.template=e.constructor.profileTemplate(a,o),e.addSlidingFunctionality(a),e.addFollowUnfollowEvents(a),_store.user.legacyId&&_store.user.legacyId!==a.legacyId&&e.showFollowUnfollowButtons(a)},function(t){console.error(t),e.template=(0,g.default)()}),e.shown=!0}};this.users&&this.users.forEach(function(e){e.element.setAttribute("role","button"),e.element.addEventListener("click",function(n){t(n,e)}),e.element.addEventListener("keydown",function(n){t(n,e)})}),window.addEventListener("keydown",function(t){t.keyCode===m.default.ESC_KEY&&e.shown&&(e.shown=!1)}),this.overlay.addEventListener("touchmove",function(t){parseInt(window.getComputedStyle(e.popup,null).getPropertyValue("height"),10)<=window.innerHeight&&t.preventDefault()})}},{key:"init",value:function(e){this.users=e,this.createWrapper(),this.addEvents()}},{key:"shown",set:function(e){this._shown=e,e?(this.overlay.classList.add("shown"),this.popup.focus(),p.fire(p.messages.hideAllForVoiceover,{element:this.overlay,container:document.body})):(this.overlay.classList.remove("shown"),this.prevFocus&&this.prevFocus.focus(),p.fire(p.messages.showAllForVoiceover))},get:function(){return this._shown}},{key:"template",set:function(e){this._template=e,this.profile.innerHTML=this._template,this.close=this.close.cloneNode(),this.addCloseEvents(),this.profile.insertBefore(this.close,this.profile.firstChild);var t=this.profile.querySelectorAll("button, a");(0,i.default)(null,t,null,!0,!0)}}],[{key:"profileTemplate",value:function(e,t){return"\n      "+(e.avatar?'<img class="avatar" src="'+e.avatar+'" alt="'+_store.i18n("common.user.a11y.avatar")+'">':"")+"\n      "+(e.name?'<h2 class="user-name" id="user-profile-popup-title"><span class="a11y">'+_store.i18n("common.user.a11y.userInfo")+" </span>"+e.name+"</h2>":"")+"\n      "+(e.loggedIn&&e.email?'<p class="user-email">\n            <span class="title">'+_store.i18n("common.email")+":</span> "+e.email+"\n        </p>":"")+"\n      "+(e.location?'<p class="user-location">\n          '+e.location+"\n        </p>":"")+"\n      "+(e.level?'<div class="user-level">\n          '+(e.levelIcon?e.isEmployee?'<img class="level-image" src="'+e.levelIcon+'" alt="" aria-hidden="true">':'<div class="level-image user-level-icon-'+e.levelNumber+'" aria-hidden="true"></div>':"")+'\n          <span class="level-label">\n            <span class="a11y">'+_store.i18n("common.user.a11y.userLevel")+"</span>\n            "+e.level+"\n            "+(e.isEmployee||"number"!=typeof e.points?"":'<span class="points">('+(0,l.default)(e.points,_store.lang)+" "+_store.i18n("common.user.points.name")+")</span>")+"\n          </span>\n        </div>":"")+"\n      "+(!e.isEmployee||e.isEmployee&&e.loggedIn?'<div class="user-specialities" role="section" aria-labelledby="user-profile-popup-expertise-title">\n            <h3 class="title" id="user-profile-popup-expertise-title">\n              <span class="a11y">'+_store.i18n("common.user.a11y.user")+"</span>\n              "+_store.i18n("common.user.expertise.name")+'\n              <span class="count">('+e.expertise.length+")</span>\n            </h3>\n            "+(e.expertise.length>0?'<div class="previews">\n                '+e.expertise.filter(function(e,t){return t<4?e:null}).map(function(e){return'\n                  <a href="#" class="user-speciality" data-action="user-speciality" aria-hidden="true">\n                    <div class="user-expertise">\n                      <span><div class="user-expertise-icon experertise-'+e.img+'" aria-hidden="true"></div></span>\n                      <div class="expertise-info">\n                        <div class="expertise-title">'+t.expertise[e.id]+'<span class="a11y">'+_store.i18n("common.user.a11y.expertiseLevel")+" "+e.level+'</span></div>\n                        <span class="progress-bar">\n                          <span class="dashes progress-level-'+e.level+'"></span>\n                          <span class="progress-dashes"></span>\n                        </span>\n                      </div>\n                    </div>\n                  </a>\n                '}).join("")+"\n              </div>":"")+"\n            "+(e.expertise.length>4?'<a href="'+_store.basePath+e.url+'" class="arrow-link all-specialities">'+_store.i18n("common.user.expertise.viewAll")+"</a>":"")+"\n            "+(0===e.expertise.length?'<a href="'+_store.i18n("link.TSpecialities")+'" class="block-link about-specialities">'+_store.i18n("common.user.expertise.learnMore")+"</a>":"")+"\n          </div>\n          "+(e.awards.length>0?'<div class="user-awards" role="section" aria-labelledby="user-profile-popup-awards-title">\n              <h3 class="title" id="user-profile-popup-awards-title">\n                <span class="a11y">'+_store.i18n("common.user.a11y.user")+"</span>\n                "+_store.i18n("common.user.awards.name")+'\n                <span class="count">('+e.awards.filter(function(e){return!0===e.status}).length+")</span>\n              </h3>\n              "+e.awards.map(function(e){return'\n                <a href="#" class="award '+(e.status?"award-icon-"+e.id:"award-icon-"+e.id+"-grey")+'" aria-hidden="true" data-action="user-award">\n                  <span class="a11y">\n                    '+t.awards[e.id].title+"\n                    "+(e.status?_store.i18n("common.user.a11y.awardAchieved"):_store.i18n("common.user.a11y.awardNotAchieved"))+"\n                  </span>\n                </a>\n              "}).join("")+"\n            </div>":"")+"\n          "+(e.loggedIn?'<div class="user-settings" role="section" aria-labelledby="user-profile-popup-settings-title">\n                <h3 class="title" id="user-profile-popup-settings-title">'+_store.i18n("common.user.settings.title")+'</h3>\n                <a href="'+_store.basePath+"/people/"+e.name+'/activity?manage=true" class="block-link">'+_store.i18n("common.user.settings.manageSubscriptions")+'</a>\n                <a href="'+_store.basePath+"/edit-profile-avatar!input.jspa?targetUser="+e.legacyId+'" class="block-link">'+_store.i18n("common.user.settings.changePhoto")+'</a>\n                <a href="'+_store.basePath+"/edit-profile!input.jspa?targetUser="+e.legacyId+'" class="block-link">'+_store.i18n("common.user.settings.editProfile")+'</a>\n                <a href="'+_store.basePath+'/user-preferences!input.jspa" class="mobile block-link">'+_store.i18n("common.user.settings.preferences")+'</a>\n                <a href="'+_store.basePath+'/logout.jspa" class="block-link">'+_store.i18n("common.user.settings.logOut")+"</a>\n              </div>":"")+"\n        ":"")+'\n      <div class="buttons">\n        '+(_store.user.loggedIn&&!e.loggedIn?'<button class="button button-black-small-font button-checked hidden" data-action="user-popup-unfollow"><span class="icon icon-check"></span>'+_store.i18n("common.following")+'</button>\n\n          <button class="button button-white-small-font hidden" data-action="user-popup-follow">'+_store.i18n("common.follow")+"</button>":"")+'\n        <a href="'+_store.basePath+e.url+'" class="button '+(e.loggedIn?"button-small-font":"button-white-small-font")+'">'+_store.i18n("common.viewProfile")+"</a>\n      </div>\n    "}},{key:"transformUserData",value:function(e){var t=null;e.reputation&&e.reputation.userLevel&&"number"==typeof e.reputation.userLevel.points&&(t=e.reputation.userLevel.points);var n=null;e.reputation&&e.reputation.userLevel&&e.reputation.userLevel.icon&&(n=e.reputation.userLevel.icon);var o=e.profile&&e.profile.appleEmployee,a=null;o?a=e.profile.groups&&Array.isArray(e.profile.groups)&&e.profile.groups.length>0?"groups.communityOperations"===e.profile.groups[0]?_store.i18n("common.user.groups.operations"):"groups.communitySpecialists"===e.profile.groups[0]?_store.i18n("common.user.groups.specialists"):"groups.communityManagers"===e.profile.groups[0]?_store.i18n("common.user.groups.managers"):"groups.communityHosts"===e.profile.groups[0]?_store.i18n("common.user.groups.hosts"):"groups.communityDevOps"===e.profile.groups[0]?_store.i18n("common.user.groups.devOps"):_store.i18n("common.user.groups.specialists"):_store.i18n("common.user.groups.specialists"):(a=_store.i18n("common.user.groups.users"),e.reputation&&e.reputation.userLevel&&e.reputation.userLevel.levelNumber&&(a+=" "+e.reputation.userLevel.levelNumber));var s=[];e.reputation&&e.reputation.rewards&&Array.isArray(e.reputation.rewards)&&e.reputation.rewards.length>0&&e.reputation.rewards.forEach(function(e){var t=e.steps&&e.steps.length,n=e.completedSteps&&e.completedSteps.length;s.push({id:e.id.replace(/\s/g,"").toLowerCase(),status:t&&n&&e.steps.length===e.completedSteps.length,steps:e.steps.map(function(t){var n={status:!1,vendorId:t.vendorId};return t.id&&e.completedSteps&&Array.isArray(e.completedSteps)&&e.completedSteps.includes(t.id)&&(n.status=!0),n})})});var r=[];e.reputation&&e.reputation.expertise&&Array.isArray(e.reputation.expertise)&&e.reputation.expertise.length>0&&e.reputation.expertise.sort(function(e,t){return t.noOfCompletedStages-e.noOfCompletedStages}).forEach(function(e){var t=e.stages&&Array.isArray(e.stages)&&e.stages[0],n=e.steps&&e.steps.length,o=e.completedSteps&&e.completedSteps.length,a=!1;t&&n&&o&&e.stages[0].steps.length===e.stages[0].completedSteps.length&&(a=!0);var s={id:e.id.replace(/\s/g,"").toLowerCase(),img:e.templateKey.replace("expertise.",""),level:e.noOfCompletedStages,status:a,steps:e.stages[0].steps.map(function(t){return{status:e.stages[0].completedSteps.includes(t.id)}})};if(t){var i=e.stages[0].steps.map(function(t){var n={status:!1,vendorId:t.vendorId},o=e.stages[0].completedSteps&&Array.isArray(e.stages[0].completedSteps);return t.id&&o&&e.stages[0].completedSteps.includes(t.id)&&(n.status=!0),n});s.steps=i}r.push(s)});var i=null;if(e.profile&&e.profile.fields&&e.profile.fields.filter){var u=e.profile.fields.filter(function(e){return"LOCATION"===e.id});u.length&&(i=u[0].value)}var l=null;return e.reputation&&e.reputation.userLevel&&"number"==typeof e.reputation.userLevel.levelNumber&&(l=e.reputation.userLevel.levelNumber),{id:e.userId,gamificationId:e.gamificationId,isEmployee:o,avatar:""+_store.basePath+e.avatarUrl,name:e.nickname,location:i,email:e.email,points:t,level:a,levelIcon:n,legacyId:e.legacyId,url:e.url,awards:s,expertise:r,levelNumber:l,loggedIn:_store.user.loggedIn&&_store.user.userId===e.userId}}}]),e}();t.default=new _},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof Element))throw Error("DomUtil: elem is not an element.");var t=getComputedStyle(e);if("none"===t.display)return!1;if("visible"!==t.visibility)return!1;if(t.opacity<.1)return!1;if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;var n={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};return!(n.x<0)&&(!(n.x>(document.documentElement.clientWidth||window.innerWidth))&&(!(n.y<0)&&!(n.y>(document.documentElement.clientHeight||window.innerHeight))))}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n,o){var a=(o-90)*Math.PI/180;return{x:e+n*Math.cos(a),y:t+n*Math.sin(a)}}function r(e,t,n,o,a){var r=s(e,t,n,a),i=s(e,t,n,o),u=a-o<=180?"0":"1";return["M",r.x,r.y,"A",n,n,0,u,0,i.x,i.y].join(" ")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(16),l=o(u),c=n(9),d=o(c),p=n(3),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),m=n(0),h=o(m),v=function(){function e(){a(this,e),this._shown=!1,this.wrapper=null,this.backButton=null,this.prevFocus=null,this.popupDetail=null,this.popupLinks=null,this.user=null,this.header=null}return i(e,[{key:"getStepProgress",value:function(e,t){var n=this,o=function(e,o){var a=n.popupDetail.querySelector("["+t+"]"),s=a.querySelector(".spinner"),i=document.createElement("div");i.classList.add("status-text");var u='\n          <svg class="progressbar">\n            <path fill="none" d="'+r(15,15,13,0,360*e)+'" />\n          </svg>\n          '+o+"x\n      ";i.innerHTML=u,a.replaceChild(i,s)};BVSDK("players/progresses",{players:this.user.gamificationId},{fields:"all",query:{type:"all_rewards",definition_id:e.vendorId}}).ok(function(e){if(e.progresses&&e.progresses.length&&e.progresses[0]&&"number"==typeof e.progresses[0].earned&&"number"==typeof e.progresses[0].possible){var t=e.progresses[0].earned/e.progresses[0].possible;o(t,e.progresses[0].possible)}else o(0,1)}).fail(function(e){o(0,1),console.error("Gamification data failed",e)})}},{key:"getTemplate",value:function(e,t,n){var o=this,a=this.user.loggedIn?"private":"public",s={stepsType:"checkmark",accessType:a};if("award"===t)s.item=Object.assign({},this.user.awards.filter(function(t){return t.id===e})[0]),s.title=n.awards[e].title,s.logo='<div class="award-image award-icon-'+e+'" aria-hidden="true"></div>',s.backButtonTitle=n.awards.backToAwards,"legacy"===e?(s.subtitle=n.awards[e].subtitle,s.description=(0,d.default)(n.awards[e].description[a],this.user.name)):s.item.status?(s.subtitle=(0,d.default)(n.awards[e].subtitle.completed[a],this.user.name),s.description=(0,d.default)(n.awards[e].description.completed[a],this.user.name)):(s.subtitle=n.awards[e].subtitle.inprogress,s.description=n.awards[e].description.inprogress),n.awards[e].steps&&(s.steps=n.awards[e].steps),this.user.loggedIn&&s.item.steps?s.stepsType="number":s.item.steps=s.item.steps.map(function(e){return e.status}),n.awards[e].note&&(s.note=n.awards[e].note),s.footer=(0,d.default)(n.awards.footer,_store.i18n("link.TAwards"));else if("expertise"===t){s.item=Object.assign({},this.user.expertise.filter(function(t){return t.id===e})[0]),s.title=n.expertise[e],s.logo='<div class="award-image experertise-'+s.item.img+'" aria-hidden="true"></div>',s.level=s.item.level,s.backButtonTitle=n.expertise.backToExpertise;var r=0===s.item.steps.filter(function(e){return!1===e.status}).length,i=s.item.steps.filter(function(e){return!1===e.status}).length===s.item.steps.length,u=s.item.level,l=n.expertise[e];if(r&&10===u){var c=n.expertise.description.completed[a];s.description="private"===a?(0,d.default)(c,l):(0,d.default)(c,this.user.name,l)}else if(i&&0===u&&"public"===a)s.description=(0,d.default)(n.expertise.description.notStarted,this.user.name,l,u+1);else{var p=n.expertise.description.inprogress[a];s.description="private"===a?(0,d.default)(p,l,l,u+1):(0,d.default)(p,this.user.name,l,u+1)}"private"===a&&s.item.steps?s.stepsType="number":s.item.steps=s.item.steps.map(function(e){return e.status}),s.steps=10===u?n.expertise.stage[s.item.level-1].steps:n.expertise.stage[s.item.level].steps,s.item.status=r&&10===u,s.footer=(0,d.default)(n.expertise.footer,_store.i18n("link.TSpecialities"))}var f='    \n      <div class="popup-details" id="popup-details" data-action="popup-details">\n        <div class="award-wrapper">\n          <div class="award-head">\n            '+(s.logo?s.logo:"")+"\n            "+(s.title?'<h2 class="award-title" tabindex="-1">'+s.title+"</h2>":"");return s.subtitle&&(f+='<h3 class="award-subtitle">'+s.subtitle+"</h3>"),"number"==typeof s.level&&(f+='\n        <span class="progress-bar">\n          <span class="dashes progress-level-'+s.level+'"></span>\n          <span class="progress-dashes"></span>\n          <span class="a11y">'+_store.i18n("common.user.a11y.expertiseLevel")+" "+s.level+"</span>\n        </span>\n      "),f+='\n          </div>\n          <div class="award-description">\n          '+(s.description?'<p class="award-message-desc">'+s.description+"</p>":""),s.steps&&s.steps.forEach&&s.item&&s.item.steps&&s.steps.forEach(function(e,t){if("number"===s.stepsType)if(s.item.steps[t].status)f+='\n              <div class="status-container achieved">\n                <div class="status-img"></div>';else{var n="data-deffered-bage-"+t+'="true"';o.getStepProgress(s.item.steps[t],n),f+='\n            <div class="status-container" '+n+'>\n              <div class="spinner"></div>'}else"public"===s.accessType?f+='\n          <div class="status-container'+(s.item.status?" achieved":"")+'">\n            <div class="status-img"></div>':f+='\n          <div class="status-container'+(s.item.steps[t]?" achieved":"")+'">\n            <div class="status-img"></div>';f+='\n            <span class="status-message">'+e+"</span>\n          </div>\n        "}),s.note&&(f+='<p class="award-note">'+(0,d.default)(s.note,_store.basePath)+"</p>"),f+="\n          </div>\n          "+(s.footer?'<div class="award-footer">\n              <p>'+s.footer+"</p>\n            </div>":"")+'\n        </div>\n        <a id="slide-back" class="icon icon-chevronleft slide-back" href="#" data-action="slide-back-button" role="button" aria-label="'+s.backButtonTitle+'"></a>\n      </div>    \n    '}},{key:"addEvents",value:function(e){var t=this;e.items.forEach(function(n){n.element.removeAttribute("aria-hidden"),n.element.addEventListener("click",function(o){t.itemClicked(o,n.id,e.type)}),n.element.addEventListener("keydown",function(o){o.keyCode!==h.default.SPACE_KEY&&o.keyCode!==h.default.ENTER_KEY||t.itemClicked(o,n.id,e.type)})})}},{key:"backButtonClicked",value:function(e){var t="keydown"===e.type;(t&&e.keyCode===h.default.ENTER_KEY||e.keyCode===h.default.SPACE_KEY||!t)&&(e.preventDefault(),this.shown=!1)}},{key:"removeSliderFromDOM",value:function(){this.wrapper===this.popupDetail.parentNode&&this.wrapper.removeChild(this.popupDetail)}},{key:"itemClicked",value:function(e,t,n){var o=this;e.preventDefault();var a=f.getGamificationData();Promise.resolve(a).then(function(a){if("expertise"===n&&!o.user.expertise.filter(function(e){return e.id===t})[0].steps)return void console.error("Steps for "+t+" expertise are not avaliable");o.shown=!0,o.prevFocus=e.currentTarget,o.popupDetail=document.createElement("div"),o.popupDetail.classList.add("slide-popup");var s=o.getTemplate(t,n,JSON.parse(a));o.popupDetail.innerHTML=s,o.wrapper.appendChild(o.popupDetail),o.backButton=o.popupDetail.querySelector('[data-action="slide-back-button"]'),o.backButton.addEventListener("click",function(e){o.backButtonClicked(e)}),o.backButton.addEventListener("keydown",function(e){o.backButtonClicked(e)}),o.header=o.popupDetail.querySelector("h2"),o.popupLinks=o.popupDetail.querySelectorAll("a"),(0,l.default)(!1,o.popupLinks,function(){o.shown=!1,o.removeSliderFromDOM()})})}},{key:"init",value:function(e,t){var n=this;this.wrapper=e,this.user=t,this.wrapper.addEventListener("transitionend",function(){n.shown?n.header.focus():(n.prevFocus&&n.prevFocus.focus(),n.removeSliderFromDOM())})}},{key:"shown",get:function(){return this._shown},set:function(e){this._shown=e,e?this.wrapper.classList.add("slide-left"):this.wrapper.classList.remove("slide-left")}}]),e}();t.default=new v},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(12),i=o(r),u=n(2),l=n(30),c=o(l),d=n(4),p=o(d),f=new p.default("Common Drop Down"),m=[],h=function(){function e(t,n,o,s){if(a(this,e),t){if(this._shown=!1,this.cb=n,this.disabled=!1,this.selectMode=o,this.ajaxMode=s,this.ajaxMode&&(this.futureLabelText=null,this.futureOptionIndex=null),this.component=t,this.button=this.component.querySelector('[data-action="drop-down-button"]'),this.dropdown=this.component.querySelector('[data-action="drop-down-menu"]'),this.links=this.component.querySelectorAll('[data-action="drop-down-menu"] li a'),this.buttonText=this.component.querySelector('[ data-action="drop-down-button-text"]'),!this.dropdown)return void f.log("Drop down options are empty.",this.component);this.addEvents(),(0,u.showElement)(this.component)}}return s(e,[{key:"addEvents",value:function(){var e=this;this.links.forEach(function(t,n){t.addEventListener("click",function(o){if(e.cb){if(o.preventDefault(),e.disabled)return;e.selectMode&&(e.ajaxMode?(e.disabled=!0,e.futureLabelText=t.textContent.trim(),e.futureOptionIndex=n):e.buttonText.textContent=t.textContent.trim()),e.cb({key:t.getAttribute("href"),value:t.textContent.trim(),el:t})}e.shown=!1})}),this.button.addEventListener("click",function(){e.shown?e.shown=!1:e.shown=!0}),(0,i.default)([this.button,this.dropdown],function(){e.shown&&(e.shown=!1)}),(0,c.default)(this.button,this.links,function(){e.shown=!1},function(){e.shown=!1,e.button.focus()})}},{key:"onChangeComplete",value:function(e){e&&this.futureLabelText&&(this.buttonText.textContent=this.futureLabelText),this.futureLabelText=null,this.futureOptionIndex=null,this.disabled=!1}},{key:"shown",set:function(e){this._shown=e,e?((0,u.showElement)(this.dropdown),this.button.setAttribute("aria-expanded",!0)):((0,u.hideElement)(this.dropdown),this.button.setAttribute("aria-expanded",!1))},get:function(){return this._shown}}]),e}();t.default={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.forEach?e.forEach(function(e,a){m[a]=new h(e,t,n,o)}):m.push(new h(e,t,n,o))},onChangeComplete:function(e){m.forEach(function(t){t.onChangeComplete(e)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){Array.isArray(t)||(t=Array.from(t)),e&&e.addEventListener("keydown",function(e){e.shiftKey&&e.keyCode===a.default.TAB_KEY&&n()}),t&&t.length&&(t[0].addEventListener("keydown",function(e){e.shiftKey&&e.keyCode===a.default.TAB_KEY&&n()}),t[t.length-1].addEventListener("keydown",function(e){e.shiftKey||e.keyCode!==a.default.TAB_KEY||n()}),t[t.length-1].addEventListener("blur",function(){setTimeout(function(){t[t.length-2]===document.activeElement||n()},0)}),window.addEventListener("keydown",function(s){var r=document.activeElement,i=t.includes(r)||e&&e===r;s.keyCode===a.default.ESC_KEY&&i&&(o?o():n())}))};var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(76),e.exports=n(81)},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),document.querySelector("body").appendChild(t)}function s(){v.isLoaded&&v.onloadDataReady&&((0,i.onLoad)(Object.assign({contentServer:"vNext",personID:_store.user.userId?_store.user.userId:-1,locale:document.querySelector("html").getAttribute("lang"),signedIn:_store.user.loggedIn,userLevel:_store.user.userLevel?_store.user.userLevel:0,announcementType:_store.analytics.pageAnnouncement},v.onloadPageSpecificData)),a("/public/scripts/dtm.js"))}function r(){var e=document.querySelector("body"),t=!1,n=!1;e.addEventListener("keydown",function(){t="key"},!0),e.addEventListener("mousedown",function(){"touch"!==t&&(t="mouse")},!0),e.addEventListener("touchstart",function(){t="touch"},!0),e.addEventListener("focus",function(e){e.target.classList.contains("ql-editor")||(t||(t=n),e.target.setAttribute("data-focus",t),n=t,t=!1)},!0),e.addEventListener("blur",function(e){e.target.classList.contains("ql-editor")||e.target.removeAttribute("data-focus")},!0),window.addEventListener("blur",function(){t=!1})}var i=n(7),u=n(3),l=o(u),c=n(5),d=o(c),p=n(77),f=o(p),m=n(79),h=function(e){return e&&e.__esModule?e:{default:e}}(m),v={_onloadDataReady:!1,_isLoaded:!1,onloadPageSpecificData:{},hiddenForVoiceover:[],get isLoaded(){return this._isLoaded},set isLoaded(e){if(this._isLoaded=e,e&&(s(),_store.user.loggedIn)){a("https://api.v2.badgeville.com/sdk/js/v1/badgeville.js#key=7880cc1b9d3e1ae5baa2a0620b7844dd&sites_id=562739e96907ff00cb0037f2")}},get onloadDataReady(){return this._onloadDataReady},set onloadDataReady(e){this._onloadDataReady=e,e&&s()}};d.on(d.messages.onloadPageSpecificData,function(e){v.onloadPageSpecificData=e,v.onloadDataReady=!0}),document.addEventListener("DOMContentLoaded",function(){l.init(),f.init(),(0,h.default)(),d.on(d.messages.toMobileSearch,f.mobileSearchOpened),d.on(d.messages.focusMobileSubNav,f.focusMobileMenu);var e=function(e,t){var n=function(e){v.hiddenForVoiceover.push(e),e.setAttribute("aria-hidden","true")};document.querySelectorAll(e+" > *").forEach(function(e){var o="true"!==e.getAttribute("aria-hidden");e!==t&&o&&n(e)})};d.on(d.messages.hideAllForVoiceover,function(t){var n=document,o=n.body,a=document.querySelector("#main-content"),s=document.querySelector("#main-content .page");t.container===o?e("body",t.element):t.container===a?(e("body",a),e("#main-content",t.element)):t.container===s&&(e("body",a),e("#main-content",s),e("#main-content .page",t.element))}),d.on(d.messages.showAllForVoiceover,function(){v.hiddenForVoiceover.forEach(function(e){e.removeAttribute("aria-hidden")}),v.hiddenForVoiceover=[]}),r()}),window.addEventListener("load",function(){v.isLoaded=!0}),document.addEventListener("keydown",function(e){if(e&&e.shiftKey&&e.altKey&&82===e.keyCode){var t=document.getElementById("http-request-id");if(!t)return;t.style.display="block",t.select(),document.execCommand("Copy"),window.scrollTo(0,0),t.style.display="none",window.alert("Request-ID {{requestVariables_requestId}} is copied to clipboard")}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t,n){e.preventDefault(),B[t]?B[t]=!1:B[t]=!0,n&&n()}function r(){x=document.querySelector('[data-action="to-mobile-post-creation"]'),C=document.querySelector('[data-action="sub-nav-mobile-checkbox"]'),I=document.querySelector('[data-action="sub-nav-mobile-menu"]'),P=document.querySelector('[data-action="sub-nav-mobile-menu-list"]'),P&&(j=P.querySelectorAll('a, [tabindex="0"]')),R=document.querySelector('[data-action="sub-nav-mobile-dim"]'),q=document.querySelector('[data-action="sub-nav-mobile-menu-label"]'),H=document.querySelector('[data-action="menu-search"]'),U=document.querySelector('[data-action="sub-nav-user-profile-popup"]'),F=document.querySelectorAll('[data-action="sub-nav-drop-down"]')}function i(){if(H.setAttribute("tabindex","-1"),x&&x.addEventListener("click",function(e){e.preventDefault(),f.fire(f.messages.createPost),B.mobileMenuShown=!1},!1),I&&(I.addEventListener("click",function(e){e.stopPropagation()},!1),I.addEventListener("touchstart",function(e){e.stopPropagation()},!1),function(e,t,n){e.addEventListener("change",function(e){s(e,t,n)})}(C,"mobileMenuShown"),R.addEventListener("touchstart",function(){B.mobileMenuShown=!1}),R.addEventListener("mousedown",function(){B.mobileMenuShown=!1}),(0,L.default)(I,function(){B.mobileMenuShown&&(B.mobileMenuShown=!1)}),q.addEventListener("click",function(e){e.preventDefault(),B.mobileMenuShown?B.mobileMenuShown=!1:B.mobileMenuShown=!0}),window.addEventListener("resize",function(){window.innerWidth>M&&(B.mobileMenuShown=!1)},!1),window.addEventListener("scroll",function(){B.mobileMenuShown&&(B.mobileMenuShown=!1)})),U){var e=[{element:U,id:N}];w.default.init(e)}}function u(){var e=Array.from(j);e.unshift(C),(0,g.default)(C,e,function(){B.mobileMenuShown=!1,C.focus()},!0,!0),function(e,t){e.addEventListener("keydown",function(e){e.keyCode!==S.default.ENTER_KEY&&e.keyCode!==S.default.SPACE_KEY||s(e,t)})}(C,"mobileMenuShown")}function l(){r(),I&&(B.postDropDownShown=!1,B.loungeDropDownShown=!1,B.mobileMenuShown=!1,U&&(N=U.getAttribute("data-user-id"),b.getUserData(N),b.getGamificationData()),i(),u(),F&&h.default.init(F),(0,D.default)())}function c(){B.mobileMenuShown&&(B.mobileMenuShown=!1)}function d(){C.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.init=l,t.mobileSearchOpened=c,t.focusMobileMenu=d;var p=n(5),f=a(p),m=n(29),h=o(m),v=n(16),g=o(v),y=n(3),b=a(y),_=n(26),w=o(_),E=n(1),k=o(E),A=n(0),S=o(A),T=n(12),L=o(T),O=n(78),D=o(O),M=k.default.TABLET_VIEWPORT_MAX_WIDTH,x=void 0,C=void 0,I=void 0,P=void 0,j=void 0,R=void 0,q=void 0,H=void 0,U=void 0,N=void 0,F=void 0,B={_mobileMenuShown:null,get mobileMenuShown(){return this._mobileMenuShown},set mobileMenuShown(e){C&&(this._mobileMenuShown=e,C.checked=e,C.setAttribute("aria-expanded",e),e?f.fire(f.messages.hideAllForVoiceover,{element:I,container:document.querySelector("#main-content")}):f.fire(f.messages.showAllForVoiceover))}}},function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(){var e;if(l=document.querySelector('[data-analytics="nav:desktop"]'),c=document.querySelector('[data-analytics="nav:mobile"]'),d=document.querySelectorAll('[data-analytics="nav:login"]'),p=document.querySelectorAll('[data-analytics="nav:logout"]'),f=document.querySelectorAll('[data-analytics="nav:profile"]'),m=document.querySelector('[data-anlaytics="nav:profile:mobile"]'),l&&(h=l.querySelectorAll('[data-analytics="nav:link"]')),c){var t;h=Array.from(h),(t=h).push.apply(t,o(c.querySelectorAll('[data-analytics="nav:link"]')))}l&&(v=l.querySelectorAll('[data-analytics="nav:dropdown"] a')),c&&(g=c.querySelector('[data-analytics="nav:search"]')),Array.isArray(h)||(h=Array.from(h)),(e=h).push.apply(e,o(Array.from(v)))}function s(){var e=function(){(0,i.onAction)("nav:profile",{link_text:"user details"})};f.forEach(function(t){(0,u.addGeneralListeners)(t,e),(0,u.addRightClickListener)(t,e)}),m&&(0,u.addLinkListeners)(m,"nav:profile",{link_text:"user details"}),d.forEach(function(e){(0,u.addListenersOnLink)(e,function(){(0,i.onAction)("nav:profile",{link_text:"signin"})})}),p.forEach(function(e){(0,u.addListenersOnLink)(e,function(){(0,i.onAction)("nav:profile",{link_text:"signout"})})}),h.forEach(function(e){(0,u.addLinkListeners)(e,"nav:link")}),g&&(0,u.addGeneralListeners)(g,function(){(0,i.onAction)("nav:link",{link_text:"search",dest_url:""})})}function r(){a(),s()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(7),u=n(6),l=void 0,c=void 0,d=void 0,p=void 0,f=void 0,m=void 0,h=void 0,v=void 0,g=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,a.default)()};var o=n(80),a=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){a=document.querySelector('[data-analytics="nav:breadcrumb"]'),a&&(s=a.querySelectorAll('[data-analytics="nav:link"]')),s&&s.forEach(function(e){(0,o.addLinkListeners)(e,"nav:link")})};var o=n(6),a=void 0,s=void 0},function(e,t){}]);