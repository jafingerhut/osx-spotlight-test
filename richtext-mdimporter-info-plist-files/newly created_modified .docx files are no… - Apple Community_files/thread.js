!function(e){function t(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=204)}({0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TAB_KEY:9,ENTER_KEY:13,ESC_KEY:27,SPACE_KEY:32,UP_KEY:38,DOWN_KEY:40,RIGHT_KEY:39,LEFT_KEY:37}},1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SMALL_VIEWPORT_MAX_WIDTH:735,TABLET_VIEWPORT_MAX_WIDTH:767,AJAX_REQUEST_TIMEOUT:3e4,USER_DATA_THROTTLE_TIME:3e4,LEADERBOARD_DATA_THROTTLE_TIME:6e4,SUBCOMMUNITY_POSTS_DATA_THROTTLE_TIME:3e5,ARTICLE_POSTS_DATA_THROTTLE_TIME:3e5,BROWSE_POSTS_DATA_THROTTLE_TIME:3e5,THREAD_POSTS_DATA_THROTTLE_TIME:6e4,SEARCH_DATA_THROTTLE_TIME:3e4,GAMIFICATION_DATA_MAX_AGE:6048e5,LOCAL_STORAGE_VERSION:7,LOCAL_STORAGE_PREFIX:"apple-communities"}},10:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return'\n    <div class="error-box">\n      <p><strong>'+_store.i18n("common.error.title")+"</strong></p>\n      <p>\n        "+("page"===e?_store.i18n("common.error.pageAjaxFailed"):_store.i18n("common.error.componentAjaxFailed"))+"\n      </p>\n    </div>\n  "}},11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={en:"en-US",es:"es-ES",pt:"pt-BR",de:"de-DE",fr:"fr-FR",zh:"zh-CN",ko:"ko-KR",ja:"ja-JP"}},12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=function(n){var o=function(e){return n.target===e||e.contains(n.target)},s=!1;if(e.forEach&&e.length>0)for(var i=0;!s&&i<e.length;)s=o(e[i]),i++;else s=o(e);s||t()};document.addEventListener("click",function(e){n(e)}),document.addEventListener("touchstart",function(e){n(e)})}},13:function(e,t,n){"use strict";function o(){i.style.position="fixed",i.style.overflow="hidden"}function s(){i.style.position="relative",i.style.overflow=""}Object.defineProperty(t,"__esModule",{value:!0}),t.disableScroll=o,t.enableScroll=s;var i=document.querySelector("body")},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={localeMatcher:"best fit",style:"decimal"},o=void 0;return t?(o=s.default[t])||(console.error("NUMBERFORMAT: Can't find local for language "+t+". Default to English."),o=s.default.en):console.error("NUMBERFORMAT: Lang is not provided. Default to English."),e.toLocaleString(o,n)};var o=n(11),s=function(e){return e&&e.__esModule?e:{default:e}}(o)},15:function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.timeout||(n.timeout=d),n.jsonHeader||(n.jsonHeader=!1),new Promise(function(o,s){var i=new XMLHttpRequest;i.open(t,e),i.timeout=n.timeout,n.handlebarsHeader&&i.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.jsonHeader&&i.setRequestHeader("Content-Type","application/json"),i.onload=function(){200===i.status||204===i.status?o(i.response):s(Error(JSON.stringify({title:"Loading failed",data:i.response,code:i.status})))},i.onerror=function(){s(Error(JSON.stringify({title:"There was a network error.",message:i.statusText,code:i.status})))},i.ontimeout=function(){s(Error("There was a network error: Timeout"))},n.data?i.send(JSON.stringify(n.data)):i.send()})}function s(e){return o(e,"GET",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function i(e){return o(e,"POST",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function a(e){return o(e,"DELETE",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function r(e){return o(e,"PUT",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function l(e){var t=e.indexOf("{"),n=e.substring(t,e.length);return JSON.parse(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.get=s,t.post=i,t.del=a,t.put=r,t.parse=l;var u=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(u),d=c.default.AJAX_REQUEST_TIMEOUT},16:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n,o,i){Array.isArray(n)||(n=Array.from(n));var a=void 0;a=e?[].concat(s(n.slice(t+1,n.length)),s(n.slice(0,t+1))):[].concat(s(n.slice(t,n.length)),s(n.slice(0,t))).reverse();var r=a[0];o&&(r=a.find(function(e){var t="input"===e.tagName.toLowerCase()&&"checkbox"===e.getAttribute("type");return!t&&(0,u.default)(e)&&!e.disabled||t&&i})),r.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];n&&window.addEventListener("keydown",function(t){(!e||e&&e.checked)&&t.keyCode===r.default.ESC_KEY&&n()}),t&&t.forEach(function(n,a){n.addEventListener("keydown",function(n){if((e&&e.checked||!e)&&n.keyCode===r.default.TAB_KEY){n.preventDefault();var l=!0;n.shiftKey&&(l=!1),i(l,a,t,o,s)}})})};var a=n(0),r=o(a),l=n(27),u=o(l)},17:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;return _+"-"+e+"-"+_store.lang+"-"+t}function a(){for(var e=0;e<b;e++)!function(e){var t=i("hashes",e),n=JSON.parse(localStorage.getItem(t));n&&n.forEach&&(n.forEach(function(t){var n=i(t,e);localStorage.removeItem(n),g.log("Old local storage key removed. Key: "+n)}),localStorage.removeItem(t),g.log("Old local storage list of keys removed. Key: "+t))}(e)}function r(e,t){var n=i("hashes"),o=JSON.parse(localStorage.getItem(n));o||(o=[]);var a=[].concat(s(o));if("add"===t)a.push(e);else if("remove"===t){var r=a.indexOf(e);a.splice(r,1)}a!==o&&(localStorage.setItem(n,JSON.stringify(a)),g.log("List of hashes stored in local storage updated. Local storage key: "+n+". Old hashes: "+o+". New hashes "+a))}function l(){var e=i("hashes"),t=JSON.parse(localStorage.getItem(e));t&&t.forEach?(g.log("Found data in local storage. Hashes:",t),t.forEach(function(e){var t=i(e),n=JSON.parse(localStorage.getItem(t));if(n){if((new Date).getTime()>n.timestamp+n.localStorageMaxAge)g.log("Local storage data expired. Removing from local storage. Hash: "+e+". Local storage key: "+t,n),localStorage.removeItem(t),r(e,"remove");else{g.log("Data retrived from local storage. Hash: "+e+". Local storage key: "+t,n);var o={keys:n.keys,data:n.data};n.maxAge&&(o.maxAge=n.maxAge),d(o)}}})):g.log("No data in local storage found")}function u(e){var t=c(e.keys),n=i(t);e.timestamp=(new Date).getTime(),localStorage.setItem(n,JSON.stringify(e)),g.log("Data saved to local storage. Hash: "+t+" Local storage key: "+n,e),r(t,"add")}function c(e){return e.join("-")}function d(e){var t=c(e.keys),n={data:e.data,updateNeeded:!1};e.maxAge&&"number"==typeof e.maxAge&&(n.updateTimeout=setTimeout(function(){n.updateNeeded=!0,g.log("Data expired. Hash: "+t)},e.maxAge)),_store._storage[t]?g.log("Data overwritten. Hash: "+t):g.log("Data saved. Hash: "+t),_store._storage[t]=n,e.saveToLocalStorage&&u(e)}function p(e){var t=c(e),n=_store._storage[t];return n&&!n.updateNeeded?(g.log("Data retrived. Hash: "+t),n.data):(g.log("Data not found. Hash: "+t),null)}function f(){_store._storage||(_store._storage={}),_store._readData||(_store._readData=p),_store._saveData||(_store._saveData=d),l(),a()}Object.defineProperty(t,"__esModule",{value:!0}),t.saveData=d,t.readData=p,t.initStorage=f;var h=n(1),m=o(h),v=n(4),y=o(v),g=new y.default("Storage"),b=m.default.LOCAL_STORAGE_VERSION,_=m.default.LOCAL_STORAGE_PREFIX},19:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=function(){(f=document.querySelector('[data-action="announcements"]'))&&(p=document.querySelector("main"),h=f.querySelectorAll('[data-action="to-announcement"]'),m=f.querySelectorAll('[data-action="from-announcement"]'),v=f.querySelectorAll('[data-action="announcement-detail"]'),h.forEach(function(e,t){y[t]=new g(e,m[t],v[t])}),(0,d.default)())};var a=n(13),r=n(2),l=n(0),u=o(l),c=n(20),d=o(c),p=void 0,f=void 0,h=void 0,m=void 0,v=void 0,y=[],g=function(){function e(t,n,o){s(this,e),this._detailsShown=!1,this.isKeyEvent=!1,this.transitonEventsAdded=!1,this.to=t,this.from=n,this.detail=o,this.title=this.detail.querySelector('[data-action="announcement-detail-title"]'),this.description=this.detail.querySelector('[data-action="announcement-detail-description"]'),this.init()}return i(e,[{key:"addTransitionEventListener",value:function(){var e=this;p.addEventListener("transitionend",function(){e.detailsShown||(0,r.hideElement)(e.detail),e.isKeyEvent&&e.detailsShown?e.from.focus():e.isKeyEvent&&!e.detailsShown?e.to.focus():e.detailsShown?e.title?e.title.focus():e.description.focus():e.detailsShown||(e.to.setAttribute("data-focus","mouse"),e.to.focus())})}},{key:"eventListener",value:function(e){var t="keydown"===e.type;this.isKeyEvent=t&&(e.keyCode===u.default.ENTER_KEY||e.keyCode===u.default.SPACE_KEY),!this.isKeyEvent&&t||(e.preventDefault(),this.transitonEventsAdded||(this.addTransitionEventListener(),this.transitonEventsAdded=!0),this.detailsShown?this.detailsShown=!1:this.detailsShown=!0)}},{key:"init",value:function(){var e=this;this.to.addEventListener("click",function(t){e.eventListener(t)}),this.to.addEventListener("keydown",function(t){e.eventListener(t)}),this.from.addEventListener("click",function(t){e.eventListener(t)}),this.from.addEventListener("keydown",function(t){e.eventListener(t)})}},{key:"detailsShown",get:function(){return this._detailsShown},set:function(e){this._detailsShown=e,e?((0,r.showElement)(this.detail),p.style.transition="transform 0.3s ease-in-out",p.style.transform="translateX(-100vw)",(0,a.disableScroll)(),f.classList.add("detail-shown"),document.querySelector("footer").style.visibility="hidden"):(p.setAttribute("style","transition: transform 0.3s ease-in-out;"),(0,a.enableScroll)(),f.classList.remove("detail-shown"),document.querySelector("footer").style.visibility="visible")}}]),e}()},2:function(e,t,n){"use strict";function o(e){e.classList.remove("hidden")}function s(e){e.classList.add("hidden")}function i(e){e.forEach(function(e){o(e)})}function a(e){e.forEach(function(e){s(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.showElement=o,t.hideElement=s,t.showElements=i,t.hideElements=a},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){s=document.querySelectorAll('[data-analytics="announcement:link"] a'),s.forEach(function(e){(0,o.addLinkListeners)(e,"announcement:link",{type:"announcement"})})};var o=n(6),s=void 0},204:function(e,t,n){n(205),e.exports=n(209)},205:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(){O=document.querySelector('[data-action="helpful-all-toggler"]'),P=document.querySelector('[data-action="helpful-all-toggler-drop-down"]'),M=document.querySelector('[data-action="ranked-replies"]'),C=document.querySelector('[data-action="all-replies"]'),j=document.querySelector('[data-action="thread-question"]'),x=document.querySelector('[data-action="all-replies-content"]'),q=document.querySelector('[data-action="to-all-replies"]')}var a=n(5),r=s(a),l=n(3),u=s(l),c=n(2),d=n(19),p=o(d),f=n(21),h=o(f),m=n(29),v=o(m),y=n(31),g=o(y),b=n(32),_=o(b),w=n(67),E=o(w),k=n(10),S=o(k),A=n(206),T=o(A),L=n(208),O=void 0,P=void 0,j=void 0,C=void 0,x=void 0,M=void 0,q=void 0,D={_view:"all",currentPage:null,hasMore:null,_allRepliesInitialized:!1,_rankedRepliesInitialized:!1,id:document.querySelector("main").getAttribute("data-thread-id"),get view(){return this._view},set view(e){this._view=e,"all"===e?((0,c.showElement)(C),(0,c.hideElement)(M)):"ranked"===e&&((0,c.showElement)(M),(0,c.hideElement)(C))},get allRepliesInitialized(){return this._allRepliesInitialized},set allRepliesInitialized(e){this._allRepliesInitialized=e,e&&(0,E.default)(C)},get rankedRepliesInitialized(){return this._rankedRepliesInitialized},set rankedRepliesInitialized(e){var t=this;this._rankedRepliesInitialized=e,e&&((0,E.default)(M),q.addEventListener("click",function(e){e.preventDefault(),t.view="all",D.allRepliesInitialized||(D.allRepliesInitialized=!0),g.default.contentUpdated(x),P&&(P.querySelector("button h2").textContent=P.querySelectorAll("a")[1].textContent.trim())}))}};document.addEventListener("DOMContentLoaded",function(){u.init(),(0,h.default)(),(0,p.default)(),r.fire(r.messages.onloadPageSpecificData,(0,L.getPageAnalyticsObj)()),i(),(0,E.default)(j),(0,T.default)(),M&&!M.classList.contains("hidden")?(D.view="ranked",D.rankedRepliesInitialized=!0):D.allRepliesInitialized=!0,v.default.init(O,function(e){e.key.includes("all")?(D.view="all",D.allRepliesInitialized||(D.allRepliesInitialized=!0)):e.key.includes("helpful")&&(D.view="ranked",D.rankedRepliesInitialized||(D.rankedRepliesInitialized=!0))},!0),_.default.init({initialStateCb:function(e,t){D.currentPage=e,D.hasMore=t},onPageChange:function(e){g.default.showLoader(x),u.getThreadPosts(D.id,e).then(function(t){var n=JSON.parse(t);D.hasMore=n.hasMoreContent,g.default.hideLoader(x),x.innerHTML=n.html,setTimeout(function(){(0,E.default)(C);var e=C.querySelectorAll('[data-analytics="thread-answer"]');(0,L.initPostsAnalytics)(e)},0),D.currentPage=e,_.default.onPageChangeComplete({status:!0,hasMore:D.hasMore}),g.default.contentUpdated(x)}).catch(function(e){console.error(e),g.default.hideLoader(x),_.default.onPageChangeComplete({status:!1});var t=x.children[0].outerHTML;t+=x.children[1].outerHTML,t+=(0,S.default)(),x.innerHTML=t,g.default.hideLoader(x)})}}),u.saveThreadPosts(D.id,D.currentPage,JSON.stringify({html:x.innerHTML,hasMoreContent:D.hasMore})),(0,L.initPageAnalytics)();var e=document.querySelectorAll('[data-analytics="thread-answer"], [data-analytics="thread-question"], [data-analytics="top-answer"], [data-analytics="ranked-answer"]');(0,L.initPostsAnalytics)(e)})},206:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(u=document.querySelector('[data-action="persist-question"]')){c=document.querySelector('[data-action="persist-question-close"]'),d=document.querySelector('[data-action="persist-question-toggler"]'),p=document.querySelector('[data-action="persist-question-text"]'),f=u.getAttribute("data-analytics-id"),c.addEventListener("click",function(){y.shown=!1,y.closed=!0}),h=p.textContent.trim(),h.length>m&&(y.expanded=!1,(0,s.showElement)(d),d.addEventListener("click",function(){y.expanded?y.expanded=!1:y.expanded=!0})),window.addEventListener("scroll",function(){y.closed||(window.scrollY>v?y.shown=!0:y.shown=!1)});var e=u.querySelector(' [data-action="common-user-avatar"]');if(e){var t=[{element:e,id:e.getAttribute("data-user-id")}];a.default.init(t)}}};var s=n(2),i=n(26),a=o(i),r=n(207),l=o(r),u=void 0,c=void 0,d=void 0,p=void 0,f=void 0,h=void 0,m=127,v=500,y={_shown:!1,_expanded:!0,_closed:!1,get shown(){return this._shown},set shown(e){e!==this._shown&&(this._shown=e,this._shown?(u.classList.add("shown"),(0,l.default)(f)):u.classList.remove("shown"))},get expanded(){return this._expanded},set expanded(e){this._expanded=e,this._expanded?(p.textContent=h,d.classList.add("expanded"),d.setAttribute("aria-expanded",!0),p.focus()):(p.textContent=h.substring(0,m)+"...",d.classList.remove("expanded"),d.setAttribute("aria-expanded",!1))},get closed(){return this._closed},set closed(e){this._closed=e,this._closed,u.classList.add("closed")}}},207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.onAction)("thread:scroll",{name:e})};var o=n(7)},208:function(e,t,n){"use strict";function o(){var e="",t="",n="",o=0,s=!1,i=0,a=0,r=document.querySelector('[data-analytics="thread:page"]');r&&(e=r.getAttribute("data-analytics-subcommunity"),t=r.getAttribute("data-analytics-community"),n=r.getAttribute("data-analytics-thread-id"),o=r.getAttribute("data-analytics-replies-count"));var l=document.querySelector('[data-analytics="top-answer"]');l&&(s=l.getAttribute("data-analytics-solved"));var u=document.querySelectorAll('[data-analytics="ranked-answer"], [data-analytics="top-answer"]');u&&(i=Array.from(u).filter(function(e){return"true"===e.getAttribute("data-analytics-helpful")}).length,a=Array.from(u).filter(function(e){return"true"===e.getAttribute("data-analytics-recommended")}).length);var c=Array.from(document.querySelectorAll("a[href]")).filter(function(e){return e.getAttribute("href").includes("youtube.com/watch")}),d=[];return c.forEach(function(e){var t=new URL(e.getAttribute("href")),n=t.searchParams.get("v");n&&d.push(n)}),{contentType:e,contentSubtype:t,friendly_content:{id:"thread-"+n,thread_status:"true"===s?"solved":"not solved",helpful:i,replies:o,recommendations:a},video:{total_videos:d.length,v_ids:d.join(",")}}}function s(e){e.forEach(function(e){var t=e.getAttribute("data-analytics-id");e.querySelector('[data-analytics="content:post:body"]').querySelectorAll("a[href]").forEach(function(e){(0,a.addLinkListeners)(e,"thread:link",{name:t})});var n=e.querySelector('[data-analytics="content:post:action:metoo"]');n&&(0,a.addButtonListeners)(n,"thread:link",{name:t,link_text:"me too"});var o=e.querySelector('[data-analytics="content:post:action:reply:link"]');o&&(0,a.addLinkListeners)(o,"thread:link",{name:t,link_text:"reply clicked"});var s=e.querySelector('[data-analytics="content:post:action:view-in-context"]');s&&(0,a.addLinkListeners)(s,"thread:link",{name:t});var i=e.querySelector('[data-analytics="content:post:actions:drop-down"] ul li a:last-child');i&&(0,a.addLinkListeners)(i,"thread:link",{name:t})})}function i(){var e=document.querySelector('[data-analytics="thread:more"]');e&&(0,a.addButtonListeners)(e,"thread:more")}Object.defineProperty(t,"__esModule",{value:!0}),t.getPageAnalyticsObj=o,t.initPostsAnalytics=s,t.initPageAnalytics=i;var a=n(6)},209:function(e,t){},21:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(e){var n=e.querySelector(".live-search");n&&(t?n.classList.remove("hidden"):n.classList.add("hidden"))}}function i(e,t){if(e){var n=e.querySelectorAll("input, button");Array.from(n).forEach(function(e){t?(e.removeAttribute("tabindex","-1"),e.removeAttribute("aria-hidden","true")):(e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true"))})}}function a(e){var t=e.indexOf("{"),n=e.substring(t,e.length);return JSON.parse(n)}function r(){j.templateType=window.innerWidth>A?"desktop":"mobile"}function l(){var e=function(e){var t={};return Object.keys(e).forEach(function(n){P.forms[n]&&(t[n]=P.forms[n].querySelector(e[n]))}),t};Object.keys(O.forms).forEach(function(e){P.forms[e]=document.querySelector(O.forms[e])}),P.inputs=e(O.inputs),P.resetButtons=e(O.resetButtons),P.covers=e(O.covers),P.overlay=document.querySelector(O.overlay),P.overlay&&(P.hideOverlayButton=P.overlay.querySelector(O.hideOverlayButton)),P.forms.desktop&&(P.desktopSubmit=P.forms.desktop.querySelector(O.desktopSubmit))}function u(){P.overlay.addEventListener("transitionend",function(){j.overlayShown?P.overlay.focus():"mobile"===j.templateType?j.focusedBeforeMobileSearchLaunched===P.covers.desktop?j.focusedBeforeMobileSearchLaunched.focus():m.fire(m.messages.focusMobileSubNav):"desktop"===j.templateType&&P.inputs.desktop&&P.inputs.desktop.focus()})}function c(){Object.keys(P.inputs).forEach(function(e){P.inputs[e]&&(P.inputs[e].addEventListener("focus",function(){"desktop"===j.templateType&&j.query.length>=T&&(j.desktopResultsShown=!0)}),P.inputs[e].addEventListener("input",function(){j.query=P.inputs[e].value},!1),P.inputs[e].addEventListener("keydown",function(e){e.keyCode===b.default.ESC_KEY?(e.stopPropagation(),e.preventDefault(),"mobile"!==j.templateType||j.query.length?j.query="":j.overlayShown=!1):"mobile"===j.templateType&&e.keyCode===b.default.ENTER_KEY&&(e.preventDefault(),P.forms.mobile.submit())}))}),Object.keys(P.resetButtons).forEach(function(e){P.resetButtons[e]&&(P.resetButtons[e].addEventListener("click",function(e){e.preventDefault(),j.query=""},!1),P.resetButtons[e].addEventListener("keydown",function(e){e.keyCode===b.default.ENTER_KEY&&(e.preventDefault(),j.query="")},!1))}),Object.keys(P.covers).forEach(function(e){P.covers[e]&&(P.covers[e].addEventListener("click",function(){j.focusedBeforeMobileSearchLaunched=P.covers[e],j.overlayShown=!0}),P.covers[e].addEventListener("keydown",function(t){t.keyCode===b.default.ENTER_KEY&&(t.preventDefault(),j.focusedBeforeMobileSearchLaunched=P.covers[e],j.overlayShown=!0)}))}),P.hideOverlayButton.addEventListener("click",function(){j.overlayShown=!1}),P.hideOverlayButton.addEventListener("keydown",function(e){e.keyCode===b.default.ENTER_KEY&&(e.preventDefault(),j.overlayShown=!1)},!1),P.overlay.addEventListener("keydown",function(e){j.overlayShown&&e.keyCode===b.default.ESC_KEY&&(e.stopPropagation(),j.overlayShown=!1)}),P.overlay.addEventListener("click",function(e){e.stopPropagation()}),window.addEventListener("resize",function(){r()}),P.forms.desktop&&(0,f.default)(P.forms.desktop,function(){"desktop"===j.templateType&&j.desktopResultsShown&&(j.desktopResultsShown=!1)}),Object.keys(P.forms).forEach(function(e){P.forms[e]&&P.forms[e].addEventListener("submit",function(t){t.preventDefault(),(0,S.analyticsSubmit)(j.query),P.forms[e].submit()})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!Promise)return void console.error("Promise is not avaliable, using static search");l(),r(),c(),j.submitDisabled=!0};var d=n(13),p=n(12),f=o(p),h=n(5),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),v=n(1),y=o(v),g=n(0),b=o(g),_=n(3),w=n(22),E=n(23),k=o(E),S=n(25),A=y.default.TABLET_VIEWPORT_MAX_WIDTH,T=2,L=500,O={forms:{desktop:'[data-action="search-form"]',mobile:'[data-action="mobile-search-form"]',menu:'[data-action="menu-search-form"]'},inputs:{desktop:'[data-action="search"]',mobile:'[data-action="mobile-search"]',menu:'[data-action="menu-search"]'},resetButtons:{desktop:'[data-action="reset"]',mobile:'[data-action="mobile-reset"]'},covers:{desktop:'[data-action="desktop-search-cover"]',menu:'[data-action="menu-search-cover"]'},overlay:".mobile-search",hideOverlayButton:'[data-action="close-mobile-search"]',desktopSubmit:'[data-action="submit-button"]'},P={forms:{},inputs:{},resetButtons:{},covers:{}},j={_typing:!1,timeout:null,_templateType:"",focusedBeforeMobileSearchLaunched:null,_query:"",_coversShown:null,_overlayShown:null,_desktopResultsShown:null,_mobileResultsShown:null,_resetButtonsShown:!1,_results:null,_resultsTemplate:null,_submitDisabled:!0,transitionEndEventAdded:!1,get resetButtonsShown(){return this._resetButtonsShown},set resetButtonsShown(e){var t=this;e!==this._resetButtonsShown&&(this._resetButtonsShown=e,Object.keys(P.resetButtons).forEach(function(e){P.resetButtons[e]&&(t._resetButtonsShown?P.resetButtons[e].classList.remove("hidden"):P.resetButtons[e].classList.add("hidden"))}))},get coversShown(){return this._coversShown},set coversShown(e){var t=this;e!==this._coversShown&&(this._coversShown=e,Object.keys(P.covers).forEach(function(e){t._coversShown?(P.covers[e].classList.add("shown"),i(P.forms.desktop,!1),i(P.forms.menu,!1)):(P.covers[e].classList.remove("shown"),i(P.forms.desktop,!0),i(P.forms.menu,!0))}))},get desktopResultsShown(){return this._desktopResultsShown},set desktopResultsShown(e){this._desktopResultsShown=e,s(P.forms.desktop,this._desktopResultsShown)},get mobileResultsShown(){return this._mobileResultsShown},set mobileResultsShown(e){this._mobileResultsShown=e,s(P.forms.mobile,this._mobileResultsShown)},get overlayShown(){return this._overlayShown},set overlayShown(e){this._overlayShown!==e&&(this._overlayShown=e,P.overlay&&(this._overlayShown?(this.transitionEndEventAdded||(this.transitionEndEventAdded=!0,u()),m.fire(m.messages.toMobileSearch),m.fire(m.messages.hideAllForVoiceover,{element:P.overlay,container:document.body}),(0,d.disableScroll)(),P.overlay.classList.add("shown"),(0,w.updateFocusTrap)(P.overlay)):(m.fire(m.messages.showAllForVoiceover),(0,d.enableScroll)(),P.overlay.classList.remove("shown"),(0,w.removeFocusTrap)(P.overlay),this.mobileResultsShown&&P.forms.desktop&&("desktop"===this.templateType?this.desktopResultsShown=!0:this.desktopResultsShown=!1))))},get templateType(){return this._templateType},set templateType(e){e!==this._templateType&&(this._templateType=e,"mobile"===this._templateType?(this.coversShown=!0,this.desktopResultsShown&&(this.overlayShown=!0)):"desktop"===this._templateType&&(this.coversShown=!1,this.overlayShown&&(this.overlayShown=!1)),(0,w.addArrowNav)(P.inputs[this._templateType],P.forms[this._templateType]))},get results(){return this._results},set results(e){this._results=e,this._results.totalResults?this.resultsTemplate="results":this.resultsTemplate="nothing found"},get resultsTemplate(){return this._resultsTemplate},set resultsTemplate(e){var t=this;if(this._resultsTemplate!==e)switch(this._resultsTemplate=e,this._resultsTemplate){case"typing":(0,k.default)(null,P.forms,this.templateType,!0);break;case"nothing found":(0,k.default)(this.results,P.forms,this.templateType,!1);break;case"error":(0,k.default)(null,P.forms,this.templateType,!1);break;case"results":(0,k.default)(this.results,P.forms,this.templateType,!1),(0,w.updateFocusTrap)(P.overlay),P.forms.desktop&&(0,w.addA11yListener)(P.forms,function(){t.desktopResultsShown=!1}),(0,w.addArrowNav)(P.inputs[this.templateType],P.forms[this.templateType]),(0,S.analyticsLinks)(this.query)}},get typing(){return this._typing},set typing(e){var t=this;this._typing=e,this._typing&&(P.forms.desktop&&(0,w.removeA11yListener)(P.forms,function(){t.desktopResultsShown=!1}),this.resultsTemplate="typing","mobile"===this.templateType?this.mobileResultsShown=!0:(this.mobileResultsShown=!0,this.desktopResultsShown=!0))},get submitDisabled(){return this._submitDisabled},set submitDisabled(e){this._submitDisabled&&P.desktopSubmit&&(this._submitDisabled=e,e?P.desktopSubmit.setAttribute("disabled",!0):P.desktopSubmit.removeAttribute("disabled"))},get query(){return this._query},set query(e){var t=this;if(e!==this._query){this._query=e,this._query.length>=T?(this.typing=!0,function(){clearTimeout(t.timeout),t.timeout=setTimeout(function(){(0,_.getSearchSuggesstions)(t._query).then(function(e){t.typing=!1,t._query.length>=T&&(t.results=a(e))},function(e){t.typing=!1,t.resultsTemplate="error",console.error(e)})},L)}()):(this.mobileResultsShown=!1,this.desktopResultsShown=!1),this._query.length?this.resetButtonsShown=!0:(this.resetButtonsShown=!1,P.inputs[this.templateType].focus()),Object.keys(P.inputs).forEach(function(e){P.inputs[e]&&(t._query.length&&e!==t.templateType?P.inputs[e].value=t._query:t._query.length||(P.inputs[e].value=t._query))}),this._query.length&&(this.submitDisabled=!1),(0,w.updateFocusTrap)(P.overlay)}}}},22:function(e,t,n){"use strict";function o(e,t){m=!0;var n=e.desktop.querySelector('[data-action="search"]');n&&n.addEventListener("keydown",function(n){n.shiftKey&&9===n.keyCode&&t(e)})}function s(e,t){m||o(e,t);var n=e.desktop.querySelectorAll(".live-search a, .live-search button"),s=n[n.length-1];s&&s.addEventListener("keydown",function(n){n.shiftKey||n.keyCode!==h.default.TAB_KEY||t(e)})}function i(e,t){var n=e.desktop.querySelectorAll(".live-search a, .live-search button"),o=n[n.length-1];o&&o.removeEventListener("keydown",function(n){n.shiftKey||n.keyCode!==h.default.TAB_KEY||t(e)})}function a(e,t){if(t){var n=t.querySelectorAll(".live-search a, .live-search button");e.addEventListener("keydown",function(e){e.keyCode===h.default.DOWN_KEY&&(e.preventDefault(),n[0]&&n[0].focus())}),Array.from(n).forEach(function(t){t.addEventListener("keydown",function(o){if(o.keyCode===h.default.DOWN_KEY){o.preventDefault();var s=n[Array.from(n).indexOf(t)+1];s?s.focus():e.focus()}else if(o.keyCode===h.default.UP_KEY){o.preventDefault();var i=n[Array.from(n).indexOf(t)-1];i?i.focus():e.focus()}else o.keyCode===h.default.ESC_KEY&&(o.stopPropagation(),o.preventDefault(),e.focus())})})}}function r(e){v=e.querySelectorAll("input, button:not(.hidden):not(.results), .live-search:not(.hidden) a, .live-search:not(.hidden) button")}function l(e){(!e.shiftKey&&e.keyCode===h.default.TAB_KEY||e.keyCode===h.default.RIGHT_KEY)&&(e.preventDefault(),v[v.length-1].blur(),v[0].focus())}function u(e){(e.shiftKey&&e.keyCode===h.default.TAB_KEY||e.keyCode===h.default.LEFT_KEY)&&(e.preventDefault(),v[0].blur(),v[v.length-1].focus())}function c(e){r(e),v&&(v[0].addEventListener("keydown",u),v[v.length-1].addEventListener("keydown",l))}function d(){v&&(v[0].addEventListener("keydown",u),v[v.length-1].removeEventListener("keydown",l))}function p(e){d(),r(e),c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addA11yListener=s,t.removeA11yListener=i,t.addArrowNav=a,t.removeFocusTrap=d,t.updateFocusTrap=p;var f=n(0),h=function(e){return e&&e.__esModule?e:{default:e}}(f),m=!1,v=void 0},23:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return'\n    <div class="searching'+("mobile"===e?" mobile":"")+'">\n      <div class="spinner"></div>\n      <span id="search-aria-live-'+("mobile"===e?"mobile":"desktop")+'" role="region" aria-live="polite">'+_store.i18n("common.search.searching")+"</span>\n    </div>\n  "}function i(e){return'\n    <div class="not-found'+("mobile"===e?" mobile":"")+'">\n      <p id="search-aria-live-'+("mobile"===e?"mobile":"desktop")+'" role="region" aria-live="polite">'+_store.i18n("common.search.results.notFound")+'</p>\n      <a class="button results" href="'+_store.basePath+'/discussion/create.jspa" data-analytics="search:link:result">'+_store.i18n("common.search.results.submit")+"</a>\n    </div>\n  "}function a(e,t){var n=void 0;return n='\n    <div class="results'+("mobile"===t?" mobile":"")+'">\n      <div class="list">\n        <div class="group">\n  ',e.results.length&&(n+='<p class="title">'+_store.i18n("common.search.results.titles.discussions")+"</p>",e.results.forEach(function(t,o){n+='\n        <p class="item">\n          <a href="'+t.objectURL+'" data-analytics="search:link:result" data-analytics-index="'+(o+1)+'"  data-analytics-total="'+e.results.length+'" data-analytics-group="discussions">\n            '+t.subject+"\n            <span>"+_store.i18n("common.search.results.by")+" "+t.userDisplayName+", "+(0,u.default)(t.created,_store.lang)+"</span>\n          </a>\n        </p>\n      "})),n+="</div>",e.communityResults.length&&(n+='\n      <div class="group">\n        <p class="title">'+_store.i18n("common.search.results.titles.communities")+"</p>",e.communityResults.forEach(function(t,o){n+='<a class="item" href="'+t.objectURL+'" data-analytics="search:link:result" data-analytics-index="'+(o+1)+'" data-analytics-total="'+e.communityResults.length+'" data-analytics-group="communities">'+t.name+"</a>"}),n+="</div>"),n+='\n        </div>\n\n        <a class="button results" href="'+_store.basePath+'/discussion/create.jspa" data-analytics="search:link:result">'+_store.i18n("common.search.results.submit")+'</a>\n\n        <a href="'+_store.basePath+"/search.jspa?q="+e.query.substring(1,e.query.length-1)+'" class="block-link view-all" id="search-aria-live-'+("mobile"===t?"mobile":"desktop")+'" role="region" aria-live="polite" data-analytics="search:link:result">'+(0,f.default)(_store.i18n("common.search.results.viewAll"),e.results&&e.totalResults?(0,d.default)(e.totalResults):0)+"</a>\n      </div>\n    </div>\n  "}function r(e,t,n,o){var r={desktop:"",mobile:""};if(o){var l=s(n);r.desktop=l,r.mobile=l}else e?e.results.length||e.communityResults.length?(r.desktop=a(e,"desktop"),r.mobile=a(e,"mobile")):(r.desktop=i("desktop"),r.mobile=i("mobile")):(r.desktop=(0,m.default)("desktop"),r.mobile=(0,m.default)("mobile"));Object.keys(t).forEach(function(e){if(t[e]&&"menu"!==e){var n=t[e].querySelector(".live-search");n||(n=document.createElement("div"),n.classList.add("live-search"),"mobile"===e&&n.classList.add("mobile"),t[e].appendChild(n)),n.innerHTML=r[e]}})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(24),u=o(l),c=n(14),d=o(c),p=n(9),f=o(p),h=n(10),m=o(h);t.default=r},24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=new Date(e),i=Object.assign({localeMatcher:"best fit",year:"numeric",month:"long",day:"numeric"},n),a=void 0;return t?(a=s.default[t])||(console.error("DATEFORMAT: Can't find local for language "+t+". Default to English."),a=s.default.en):console.error("DATEFORMAT: Lang is not provided. Default to English."),o.toLocaleDateString(a,i)};var o=n(11),s=function(e){return e&&e.__esModule?e:{default:e}}(o)},25:function(e,t,n){"use strict";function o(e){(0,i.onAction)("search:submit",{search_text:e,dest_url:"/search.jspa"})}function s(e){document.querySelectorAll('[data-analytics="search:link:result"]').forEach(function(t){(0,a.addLinkListeners)(t,"search:link",{name:t.getAttribute("data-analytics-group")||"",search_text:e,link_index:t.getAttribute("data-analytics-index")||"",results_num:t.getAttribute("data-analytics-total")||""})})}Object.defineProperty(t,"__esModule",{value:!0}),t.analyticsSubmit=o,t.analyticsLinks=s;var i=n(7),a=n(6)},26:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(16),r=o(a),l=n(14),u=o(l),c=n(3),d=n(5),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),f=n(0),h=o(f),m=n(2),v=n(10),y=o(v),g=n(28),b=o(g),_=function(){function e(){s(this,e),this._shown=!1,this.users=null,this._template=null,this.overlay=null,this.popup=null,this.wrapper=null,this.profile=null,this.close=null,this.prevFocus=null}return i(e,[{key:"addCloseEvents",value:function(){var e=this;this.close.addEventListener("click",function(){e.shown=!1}),this.close.addEventListener("keydown",function(t){t.keyCode!==h.default.ENTER_KEY&&t.keyCode!==h.default.SPACE_KEY||(t.preventDefault(),e.shown=!1)})}},{key:"createWrapper",value:function(){this.overlay=document.createElement("div"),this.overlay.classList.add("user-profile-overlay"),this.popup=document.createElement("div"),this.popup.classList.add("user-profile-popup"),this.popup.setAttribute("data-action","user-profile-popup"),this.popup.setAttribute("role","dialog"),this.popup.setAttribute("aria-labelledby","user-profile-popup-title"),this.popup.setAttribute("tabindex","-1"),this.wrapper=document.createElement("div"),this.wrapper.classList.add("user-profile-wrapper"),this.wrapper.setAttribute("data-action","user-profile-popup-wrapper"),this.profile=document.createElement("div"),this.profile.classList.add("profile-data"),this.close=document.createElement("button"),this.close.classList.add("icon"),this.close.classList.add("icon-close"),this.close.classList.add("close-popup"),this.close.setAttribute("aria-label",_store.i18n("common.user.a11y.closePopup")),this.overlay.appendChild(this.popup),this.popup.appendChild(this.wrapper),this.wrapper.appendChild(this.profile),document.querySelector("body").appendChild(this.overlay)}},{key:"addSlidingFunctionality",value:function(e){b.default.init(this.wrapper,e);var t=this.popup.querySelectorAll('[data-action="user-award"]'),n=this.popup.querySelectorAll('[data-action="user-speciality"]');if(t){var o={type:"award",items:[]};t.forEach(function(t,n){o.items.push({id:e.awards[n].id,element:t})}),b.default.addEvents(o)}if(n){var s={type:"expertise",items:[]};n.forEach(function(t,n){s.items.push({id:e.expertise[n].id,element:t})}),b.default.addEvents(s)}}},{key:"addFollowUnfollowEvents",value:function(e){var t=this.popup.querySelector('[data-action="user-popup-follow"]'),n=this.popup.querySelector('[data-action="user-popup-unfollow"]');t&&n&&(t.addEventListener("click",function(){(0,c.followUser)(e.legacyId).then(function(){(0,m.hideElement)(t),(0,m.showElement)(n)})}),n.addEventListener("click",function(){(0,c.unfollowUser)(e.legacyId).then(function(){(0,m.hideElement)(n),(0,m.showElement)(t)})}))}},{key:"showFollowUnfollowButtons",value:function(e){var t=this.popup.querySelector('[data-action="user-popup-follow"]'),n=this.popup.querySelector('[data-action="user-popup-unfollow"]');(0,c.isFollowingUser)(e.legacyId).then(function(e){JSON.parse(e).following?((0,m.hideElement)(t),(0,m.showElement)(n)):((0,m.hideElement)(n),(0,m.showElement)(t))},function(t){console.error("Unable to know if user:",_store.user.legacyId,"is following:",e.legacyId,t)})}},{key:"addEvents",value:function(){var e=this,t=function(t,n){var o="keydown"===t.type;if(o&&t.keyCode===h.default.ENTER_KEY||t.keyCode===h.default.SPACE_KEY||!o){t.preventDefault(),e.prevFocus=n.element,e.template='<div class="spinner"></div>';var s=(0,c.getGamificationData)(),i=(0,c.getUserData)(n.id);Promise.all([s,i]).then(function(t){var n=JSON.parse(t[1]),o=JSON.parse(t[0]);if(!n.userId)return void(e.template=(0,y.default)());var s=e.constructor.transformUserData(n);s.isEmployee?e.popup.classList.add("employee"):e.popup.classList.remove("employee"),e.template=e.constructor.profileTemplate(s,o),e.addSlidingFunctionality(s),e.addFollowUnfollowEvents(s),_store.user.legacyId&&_store.user.legacyId!==s.legacyId&&e.showFollowUnfollowButtons(s)},function(t){console.error(t),e.template=(0,y.default)()}),e.shown=!0}};this.users&&this.users.forEach(function(e){e.element.setAttribute("role","button"),e.element.addEventListener("click",function(n){t(n,e)}),e.element.addEventListener("keydown",function(n){t(n,e)})}),window.addEventListener("keydown",function(t){t.keyCode===h.default.ESC_KEY&&e.shown&&(e.shown=!1)}),this.overlay.addEventListener("touchmove",function(t){parseInt(window.getComputedStyle(e.popup,null).getPropertyValue("height"),10)<=window.innerHeight&&t.preventDefault()})}},{key:"init",value:function(e){this.users=e,this.createWrapper(),this.addEvents()}},{key:"shown",set:function(e){this._shown=e,e?(this.overlay.classList.add("shown"),this.popup.focus(),p.fire(p.messages.hideAllForVoiceover,{element:this.overlay,container:document.body})):(this.overlay.classList.remove("shown"),this.prevFocus&&this.prevFocus.focus(),p.fire(p.messages.showAllForVoiceover))},get:function(){return this._shown}},{key:"template",set:function(e){this._template=e,this.profile.innerHTML=this._template,this.close=this.close.cloneNode(),this.addCloseEvents(),this.profile.insertBefore(this.close,this.profile.firstChild);var t=this.profile.querySelectorAll("button, a");(0,r.default)(null,t,null,!0,!0)}}],[{key:"profileTemplate",value:function(e,t){return"\n      "+(e.avatar?'<img class="avatar" src="'+e.avatar+'" alt="'+_store.i18n("common.user.a11y.avatar")+'">':"")+"\n      "+(e.name?'<h2 class="user-name" id="user-profile-popup-title"><span class="a11y">'+_store.i18n("common.user.a11y.userInfo")+" </span>"+e.name+"</h2>":"")+"\n      "+(e.loggedIn&&e.email?'<p class="user-email">\n            <span class="title">'+_store.i18n("common.email")+":</span> "+e.email+"\n        </p>":"")+"\n      "+(e.location?'<p class="user-location">\n          '+e.location+"\n        </p>":"")+"\n      "+(e.level?'<div class="user-level">\n          '+(e.levelIcon?e.isEmployee?'<img class="level-image" src="'+e.levelIcon+'" alt="" aria-hidden="true">':'<div class="level-image user-level-icon-'+e.levelNumber+'" aria-hidden="true"></div>':"")+'\n          <span class="level-label">\n            <span class="a11y">'+_store.i18n("common.user.a11y.userLevel")+"</span>\n            "+e.level+"\n            "+(e.isEmployee||"number"!=typeof e.points?"":'<span class="points">('+(0,u.default)(e.points,_store.lang)+" "+_store.i18n("common.user.points.name")+")</span>")+"\n          </span>\n        </div>":"")+"\n      "+(!e.isEmployee||e.isEmployee&&e.loggedIn?'<div class="user-specialities" role="section" aria-labelledby="user-profile-popup-expertise-title">\n            <h3 class="title" id="user-profile-popup-expertise-title">\n              <span class="a11y">'+_store.i18n("common.user.a11y.user")+"</span>\n              "+_store.i18n("common.user.expertise.name")+'\n              <span class="count">('+e.expertise.length+")</span>\n            </h3>\n            "+(e.expertise.length>0?'<div class="previews">\n                '+e.expertise.filter(function(e,t){return t<4?e:null}).map(function(e){return'\n                  <a href="#" class="user-speciality" data-action="user-speciality" aria-hidden="true">\n                    <div class="user-expertise">\n                      <span><div class="user-expertise-icon experertise-'+e.img+'" aria-hidden="true"></div></span>\n                      <div class="expertise-info">\n                        <div class="expertise-title">'+t.expertise[e.id]+'<span class="a11y">'+_store.i18n("common.user.a11y.expertiseLevel")+" "+e.level+'</span></div>\n                        <span class="progress-bar">\n                          <span class="dashes progress-level-'+e.level+'"></span>\n                          <span class="progress-dashes"></span>\n                        </span>\n                      </div>\n                    </div>\n                  </a>\n                '}).join("")+"\n              </div>":"")+"\n            "+(e.expertise.length>4?'<a href="'+_store.basePath+e.url+'" class="arrow-link all-specialities">'+_store.i18n("common.user.expertise.viewAll")+"</a>":"")+"\n            "+(0===e.expertise.length?'<a href="'+_store.i18n("link.TSpecialities")+'" class="block-link about-specialities">'+_store.i18n("common.user.expertise.learnMore")+"</a>":"")+"\n          </div>\n          "+(e.awards.length>0?'<div class="user-awards" role="section" aria-labelledby="user-profile-popup-awards-title">\n              <h3 class="title" id="user-profile-popup-awards-title">\n                <span class="a11y">'+_store.i18n("common.user.a11y.user")+"</span>\n                "+_store.i18n("common.user.awards.name")+'\n                <span class="count">('+e.awards.filter(function(e){return!0===e.status}).length+")</span>\n              </h3>\n              "+e.awards.map(function(e){return'\n                <a href="#" class="award '+(e.status?"award-icon-"+e.id:"award-icon-"+e.id+"-grey")+'" aria-hidden="true" data-action="user-award">\n                  <span class="a11y">\n                    '+t.awards[e.id].title+"\n                    "+(e.status?_store.i18n("common.user.a11y.awardAchieved"):_store.i18n("common.user.a11y.awardNotAchieved"))+"\n                  </span>\n                </a>\n              "}).join("")+"\n            </div>":"")+"\n          "+(e.loggedIn?'<div class="user-settings" role="section" aria-labelledby="user-profile-popup-settings-title">\n                <h3 class="title" id="user-profile-popup-settings-title">'+_store.i18n("common.user.settings.title")+'</h3>\n                <a href="'+_store.basePath+"/people/"+e.name+'/activity?manage=true" class="block-link">'+_store.i18n("common.user.settings.manageSubscriptions")+'</a>\n                <a href="'+_store.basePath+"/edit-profile-avatar!input.jspa?targetUser="+e.legacyId+'" class="block-link">'+_store.i18n("common.user.settings.changePhoto")+'</a>\n                <a href="'+_store.basePath+"/edit-profile!input.jspa?targetUser="+e.legacyId+'" class="block-link">'+_store.i18n("common.user.settings.editProfile")+'</a>\n                <a href="'+_store.basePath+'/user-preferences!input.jspa" class="mobile block-link">'+_store.i18n("common.user.settings.preferences")+'</a>\n                <a href="'+_store.basePath+'/logout.jspa" class="block-link">'+_store.i18n("common.user.settings.logOut")+"</a>\n              </div>":"")+"\n        ":"")+'\n      <div class="buttons">\n        '+(_store.user.loggedIn&&!e.loggedIn?'<button class="button button-black-small-font button-checked hidden" data-action="user-popup-unfollow"><span class="icon icon-check"></span>'+_store.i18n("common.following")+'</button>\n\n          <button class="button button-white-small-font hidden" data-action="user-popup-follow">'+_store.i18n("common.follow")+"</button>":"")+'\n        <a href="'+_store.basePath+e.url+'" class="button '+(e.loggedIn?"button-small-font":"button-white-small-font")+'">'+_store.i18n("common.viewProfile")+"</a>\n      </div>\n    "}},{key:"transformUserData",value:function(e){var t=null;e.reputation&&e.reputation.userLevel&&"number"==typeof e.reputation.userLevel.points&&(t=e.reputation.userLevel.points);var n=null;e.reputation&&e.reputation.userLevel&&e.reputation.userLevel.icon&&(n=e.reputation.userLevel.icon);var o=e.profile&&e.profile.appleEmployee,s=null;o?s=e.profile.groups&&Array.isArray(e.profile.groups)&&e.profile.groups.length>0?"groups.communityOperations"===e.profile.groups[0]?_store.i18n("common.user.groups.operations"):"groups.communitySpecialists"===e.profile.groups[0]?_store.i18n("common.user.groups.specialists"):"groups.communityManagers"===e.profile.groups[0]?_store.i18n("common.user.groups.managers"):"groups.communityHosts"===e.profile.groups[0]?_store.i18n("common.user.groups.hosts"):"groups.communityDevOps"===e.profile.groups[0]?_store.i18n("common.user.groups.devOps"):_store.i18n("common.user.groups.specialists"):_store.i18n("common.user.groups.specialists"):(s=_store.i18n("common.user.groups.users"),e.reputation&&e.reputation.userLevel&&e.reputation.userLevel.levelNumber&&(s+=" "+e.reputation.userLevel.levelNumber));var i=[];e.reputation&&e.reputation.rewards&&Array.isArray(e.reputation.rewards)&&e.reputation.rewards.length>0&&e.reputation.rewards.forEach(function(e){var t=e.steps&&e.steps.length,n=e.completedSteps&&e.completedSteps.length;i.push({id:e.id.replace(/\s/g,"").toLowerCase(),status:t&&n&&e.steps.length===e.completedSteps.length,steps:e.steps.map(function(t){var n={status:!1,vendorId:t.vendorId};return t.id&&e.completedSteps&&Array.isArray(e.completedSteps)&&e.completedSteps.includes(t.id)&&(n.status=!0),n})})});var a=[];e.reputation&&e.reputation.expertise&&Array.isArray(e.reputation.expertise)&&e.reputation.expertise.length>0&&e.reputation.expertise.sort(function(e,t){return t.noOfCompletedStages-e.noOfCompletedStages}).forEach(function(e){var t=e.stages&&Array.isArray(e.stages)&&e.stages[0],n=e.steps&&e.steps.length,o=e.completedSteps&&e.completedSteps.length,s=!1;t&&n&&o&&e.stages[0].steps.length===e.stages[0].completedSteps.length&&(s=!0);var i={id:e.id.replace(/\s/g,"").toLowerCase(),img:e.templateKey.replace("expertise.",""),level:e.noOfCompletedStages,status:s,steps:e.stages[0].steps.map(function(t){return{status:e.stages[0].completedSteps.includes(t.id)}})};if(t){var r=e.stages[0].steps.map(function(t){var n={status:!1,vendorId:t.vendorId},o=e.stages[0].completedSteps&&Array.isArray(e.stages[0].completedSteps);return t.id&&o&&e.stages[0].completedSteps.includes(t.id)&&(n.status=!0),n});i.steps=r}a.push(i)});var r=null;if(e.profile&&e.profile.fields&&e.profile.fields.filter){var l=e.profile.fields.filter(function(e){return"LOCATION"===e.id});l.length&&(r=l[0].value)}var u=null;return e.reputation&&e.reputation.userLevel&&"number"==typeof e.reputation.userLevel.levelNumber&&(u=e.reputation.userLevel.levelNumber),{id:e.userId,gamificationId:e.gamificationId,isEmployee:o,avatar:""+_store.basePath+e.avatarUrl,name:e.nickname,location:r,email:e.email,points:t,level:s,levelIcon:n,legacyId:e.legacyId,url:e.url,awards:i,expertise:a,levelNumber:u,loggedIn:_store.user.loggedIn&&_store.user.userId===e.userId}}}]),e}();t.default=new _},27:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof Element))throw Error("DomUtil: elem is not an element.");var t=getComputedStyle(e);if("none"===t.display)return!1;if("visible"!==t.visibility)return!1;if(t.opacity<.1)return!1;if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;var n={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};return!(n.x<0)&&(!(n.x>(document.documentElement.clientWidth||window.innerWidth))&&(!(n.y<0)&&!(n.y>(document.documentElement.clientHeight||window.innerHeight))))}},28:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,o){var s=(o-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}}function a(e,t,n,o,s){var a=i(e,t,n,s),r=i(e,t,n,o),l=s-o<=180?"0":"1";return["M",a.x,a.y,"A",n,n,0,l,0,r.x,r.y].join(" ")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(16),u=o(l),c=n(9),d=o(c),p=n(3),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),h=n(0),m=o(h),v=function(){function e(){s(this,e),this._shown=!1,this.wrapper=null,this.backButton=null,this.prevFocus=null,this.popupDetail=null,this.popupLinks=null,this.user=null,this.header=null}return r(e,[{key:"getStepProgress",value:function(e,t){var n=this,o=function(e,o){var s=n.popupDetail.querySelector("["+t+"]"),i=s.querySelector(".spinner"),r=document.createElement("div");r.classList.add("status-text");var l='\n          <svg class="progressbar">\n            <path fill="none" d="'+a(15,15,13,0,360*e)+'" />\n          </svg>\n          '+o+"x\n      ";r.innerHTML=l,s.replaceChild(r,i)};BVSDK("players/progresses",{players:this.user.gamificationId},{fields:"all",query:{type:"all_rewards",definition_id:e.vendorId}}).ok(function(e){if(e.progresses&&e.progresses.length&&e.progresses[0]&&"number"==typeof e.progresses[0].earned&&"number"==typeof e.progresses[0].possible){var t=e.progresses[0].earned/e.progresses[0].possible;o(t,e.progresses[0].possible)}else o(0,1)}).fail(function(e){o(0,1),console.error("Gamification data failed",e)})}},{key:"getTemplate",value:function(e,t,n){var o=this,s=this.user.loggedIn?"private":"public",i={stepsType:"checkmark",accessType:s};if("award"===t)i.item=Object.assign({},this.user.awards.filter(function(t){return t.id===e})[0]),i.title=n.awards[e].title,i.logo='<div class="award-image award-icon-'+e+'" aria-hidden="true"></div>',i.backButtonTitle=n.awards.backToAwards,"legacy"===e?(i.subtitle=n.awards[e].subtitle,i.description=(0,d.default)(n.awards[e].description[s],this.user.name)):i.item.status?(i.subtitle=(0,d.default)(n.awards[e].subtitle.completed[s],this.user.name),i.description=(0,d.default)(n.awards[e].description.completed[s],this.user.name)):(i.subtitle=n.awards[e].subtitle.inprogress,i.description=n.awards[e].description.inprogress),n.awards[e].steps&&(i.steps=n.awards[e].steps),this.user.loggedIn&&i.item.steps?i.stepsType="number":i.item.steps=i.item.steps.map(function(e){return e.status}),n.awards[e].note&&(i.note=n.awards[e].note),i.footer=(0,d.default)(n.awards.footer,_store.i18n("link.TAwards"));else if("expertise"===t){i.item=Object.assign({},this.user.expertise.filter(function(t){return t.id===e})[0]),i.title=n.expertise[e],i.logo='<div class="award-image experertise-'+i.item.img+'" aria-hidden="true"></div>',i.level=i.item.level,i.backButtonTitle=n.expertise.backToExpertise;var a=0===i.item.steps.filter(function(e){return!1===e.status}).length,r=i.item.steps.filter(function(e){return!1===e.status}).length===i.item.steps.length,l=i.item.level,u=n.expertise[e];if(a&&10===l){var c=n.expertise.description.completed[s];i.description="private"===s?(0,d.default)(c,u):(0,d.default)(c,this.user.name,u)}else if(r&&0===l&&"public"===s)i.description=(0,d.default)(n.expertise.description.notStarted,this.user.name,u,l+1);else{var p=n.expertise.description.inprogress[s];i.description="private"===s?(0,d.default)(p,u,u,l+1):(0,d.default)(p,this.user.name,u,l+1)}"private"===s&&i.item.steps?i.stepsType="number":i.item.steps=i.item.steps.map(function(e){return e.status}),i.steps=10===l?n.expertise.stage[i.item.level-1].steps:n.expertise.stage[i.item.level].steps,i.item.status=a&&10===l,i.footer=(0,d.default)(n.expertise.footer,_store.i18n("link.TSpecialities"))}var f='    \n      <div class="popup-details" id="popup-details" data-action="popup-details">\n        <div class="award-wrapper">\n          <div class="award-head">\n            '+(i.logo?i.logo:"")+"\n            "+(i.title?'<h2 class="award-title" tabindex="-1">'+i.title+"</h2>":"");return i.subtitle&&(f+='<h3 class="award-subtitle">'+i.subtitle+"</h3>"),"number"==typeof i.level&&(f+='\n        <span class="progress-bar">\n          <span class="dashes progress-level-'+i.level+'"></span>\n          <span class="progress-dashes"></span>\n          <span class="a11y">'+_store.i18n("common.user.a11y.expertiseLevel")+" "+i.level+"</span>\n        </span>\n      "),f+='\n          </div>\n          <div class="award-description">\n          '+(i.description?'<p class="award-message-desc">'+i.description+"</p>":""),i.steps&&i.steps.forEach&&i.item&&i.item.steps&&i.steps.forEach(function(e,t){if("number"===i.stepsType)if(i.item.steps[t].status)f+='\n              <div class="status-container achieved">\n                <div class="status-img"></div>';else{var n="data-deffered-bage-"+t+'="true"';o.getStepProgress(i.item.steps[t],n),f+='\n            <div class="status-container" '+n+'>\n              <div class="spinner"></div>'}else"public"===i.accessType?f+='\n          <div class="status-container'+(i.item.status?" achieved":"")+'">\n            <div class="status-img"></div>':f+='\n          <div class="status-container'+(i.item.steps[t]?" achieved":"")+'">\n            <div class="status-img"></div>';f+='\n            <span class="status-message">'+e+"</span>\n          </div>\n        "}),i.note&&(f+='<p class="award-note">'+(0,d.default)(i.note,_store.basePath)+"</p>"),f+="\n          </div>\n          "+(i.footer?'<div class="award-footer">\n              <p>'+i.footer+"</p>\n            </div>":"")+'\n        </div>\n        <a id="slide-back" class="icon icon-chevronleft slide-back" href="#" data-action="slide-back-button" role="button" aria-label="'+i.backButtonTitle+'"></a>\n      </div>    \n    '}},{key:"addEvents",value:function(e){var t=this;e.items.forEach(function(n){n.element.removeAttribute("aria-hidden"),n.element.addEventListener("click",function(o){t.itemClicked(o,n.id,e.type)}),n.element.addEventListener("keydown",function(o){o.keyCode!==m.default.SPACE_KEY&&o.keyCode!==m.default.ENTER_KEY||t.itemClicked(o,n.id,e.type)})})}},{key:"backButtonClicked",value:function(e){var t="keydown"===e.type;(t&&e.keyCode===m.default.ENTER_KEY||e.keyCode===m.default.SPACE_KEY||!t)&&(e.preventDefault(),this.shown=!1)}},{key:"removeSliderFromDOM",value:function(){this.wrapper===this.popupDetail.parentNode&&this.wrapper.removeChild(this.popupDetail)}},{key:"itemClicked",value:function(e,t,n){var o=this;e.preventDefault();var s=f.getGamificationData();Promise.resolve(s).then(function(s){if("expertise"===n&&!o.user.expertise.filter(function(e){return e.id===t})[0].steps)return void console.error("Steps for "+t+" expertise are not avaliable");o.shown=!0,o.prevFocus=e.currentTarget,o.popupDetail=document.createElement("div"),o.popupDetail.classList.add("slide-popup");var i=o.getTemplate(t,n,JSON.parse(s));o.popupDetail.innerHTML=i,o.wrapper.appendChild(o.popupDetail),o.backButton=o.popupDetail.querySelector('[data-action="slide-back-button"]'),o.backButton.addEventListener("click",function(e){o.backButtonClicked(e)}),o.backButton.addEventListener("keydown",function(e){o.backButtonClicked(e)}),o.header=o.popupDetail.querySelector("h2"),o.popupLinks=o.popupDetail.querySelectorAll("a"),(0,u.default)(!1,o.popupLinks,function(){o.shown=!1,o.removeSliderFromDOM()})})}},{key:"init",value:function(e,t){var n=this;this.wrapper=e,this.user=t,this.wrapper.addEventListener("transitionend",function(){n.shown?n.header.focus():(n.prevFocus&&n.prevFocus.focus(),n.removeSliderFromDOM())})}},{key:"shown",get:function(){return this._shown},set:function(e){this._shown=e,e?this.wrapper.classList.add("slide-left"):this.wrapper.classList.remove("slide-left")}}]),e}();t.default=new v},29:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(12),r=o(a),l=n(2),u=n(30),c=o(u),d=n(4),p=o(d),f=new p.default("Common Drop Down"),h=[],m=function(){function e(t,n,o,i){if(s(this,e),t){if(this._shown=!1,this.cb=n,this.disabled=!1,this.selectMode=o,this.ajaxMode=i,this.ajaxMode&&(this.futureLabelText=null,this.futureOptionIndex=null),this.component=t,this.button=this.component.querySelector('[data-action="drop-down-button"]'),this.dropdown=this.component.querySelector('[data-action="drop-down-menu"]'),this.links=this.component.querySelectorAll('[data-action="drop-down-menu"] li a'),this.buttonText=this.component.querySelector('[ data-action="drop-down-button-text"]'),!this.dropdown)return void f.log("Drop down options are empty.",this.component);this.addEvents(),(0,l.showElement)(this.component)}}return i(e,[{key:"addEvents",value:function(){var e=this;this.links.forEach(function(t,n){t.addEventListener("click",function(o){if(e.cb){if(o.preventDefault(),e.disabled)return;e.selectMode&&(e.ajaxMode?(e.disabled=!0,e.futureLabelText=t.textContent.trim(),e.futureOptionIndex=n):e.buttonText.textContent=t.textContent.trim()),e.cb({key:t.getAttribute("href"),value:t.textContent.trim(),el:t})}e.shown=!1})}),this.button.addEventListener("click",function(){e.shown?e.shown=!1:e.shown=!0}),(0,r.default)([this.button,this.dropdown],function(){e.shown&&(e.shown=!1)}),(0,c.default)(this.button,this.links,function(){e.shown=!1},function(){e.shown=!1,e.button.focus()})}},{key:"onChangeComplete",value:function(e){e&&this.futureLabelText&&(this.buttonText.textContent=this.futureLabelText),this.futureLabelText=null,this.futureOptionIndex=null,this.disabled=!1}},{key:"shown",set:function(e){this._shown=e,e?((0,l.showElement)(this.dropdown),this.button.setAttribute("aria-expanded",!0)):((0,l.hideElement)(this.dropdown),this.button.setAttribute("aria-expanded",!1))},get:function(){return this._shown}}]),e}();t.default={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.forEach?e.forEach(function(e,s){h[s]=new m(e,t,n,o)}):h.push(new m(e,t,n,o))},onChangeComplete:function(e){h.forEach(function(t){t.onChangeComplete(e)})}}},3:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(){var e={prodDomains:{en:"discussions.apple.com",es:"communities.apple.com/es",pt:"communities.apple.com/pt",fr:"communities.apple.com/fr",de:"communities.apple.com/de",zh:"discussionschinese.apple.com",ko:"discussionskorea.apple.com",ja:"discussionsjapan.apple.com"},uatDomains:{en:"discussions-uat.corp.apple.com",es:"communities-uat.rno.apple.com/es",pt:"communities-uat.rno.apple.com/pt",fr:"communities-uat.rno.apple.com/fr",de:"communities-uat.rno.apple.com/de",zh:"discnzh-uat.corp.apple.com",ko:"discnkr-uat.corp.apple.com",ja:"discnjp-uat.corp.apple.com"}};return"https://"+e[function(){var e=["discussions-stage.rno.apple.com","discussions-kr-stage.prz.apple.com","discussions-jp-stage.prz.apple.com","discussions-cn-stage.prz.apple.com","communities-stage.prz.apple.com","discussions.apple.com","communities.apple.com","discussionschinese.apple.com","discussionskorea.apple.com","discussionsjapan.apple.com"],t=window.location.host;return e.includes(t)?"prodDomains":"uatDomains"}()][_store.lang]}function i(e){var t=e.keys,n=e.url,o=e.savingOptions,s=e.mockDataOptions,i=e.requestOptions,a=function(e){return Object.assign({keys:t,data:e},o)};if(!_store.disableClientCache){var r=(0,U.readData)(t);if(r)return new Promise(function(e){e(r)})}if(s&&s.data)return new Promise(function(e){setTimeout(function(){e(s.data),(0,U.saveData)(a(s.data))},s.timeout)});var l=""+_store.basePath+n,u=i||{};return(0,I.get)(l,u).then(function(e){return Y.log("Data loaded",e),_store.disableClientCache||(0,U.saveData)(a(e)),e})}function a(e){return Object.keys(e).length?"?"+Object.keys(e).filter(function(t){return e[t]}).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&"):""}function r(){return i({keys:["gamification"],url:"/gamification/properties",savingOptions:{saveToLocalStorage:!0,localStorageMaxAge:V},mockDataOptions:{timeout:2e3}})}function l(e){return i({keys:["user",e],url:"/gamification/state/"+e,savingOptions:{maxAge:K},mockDataOptions:{timeout:2e3}})}function u(e,t){var n=_store.i18n("subCommunity.leaderBoard.community"),o=e;return o||(o="weekly"),i({keys:["leaderboard",o,t],url:"/leaderboard/"+n+"/"+o+"/"+t,savingOptions:{maxAge:F},mockDataOptions:{timeout:2e3},requestOptions:{handlebarsHeader:!0}})}function c(e,t,n){var o=e||"weekly";(0,U.saveData)({keys:["leaderboard",o,t],data:n,maxAge:F})}function d(e,t,n){return i({keys:["subcommunity-posts",e,t,n],url:"/community/questions/filter"+a({communityId:_store.i18n("subCommunity.subCommunityId"),type:t,category:n,page:e}),savingOptions:{maxAge:W},mockDataOptions:{timeout:4e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function p(e,t,n,o){(0,U.saveData)({keys:["subcommunity-posts",e,t,n],data:o,maxAge:W})}function f(e,t,n){return i({keys:["article-posts",e,t,n],url:"/article/questions/filter"+a({articleId:_store.i18n("article.articleId"),page:t,perPage:n,type:e}),savingOptions:{maxAge:z},mockDataOptions:{timeout:3e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function h(e,t,n,o){(0,U.saveData)({keys:["article-posts",e,t,n],data:o,maxAge:z})}function m(e,t,n,o,s){return i({keys:["browse",e,t,n,o,s],url:"/article/questions/filter"+a({content:e,type:t,category:n,page:o,perPage:s}),savingOptions:{maxAge:J},mockDataOptions:{timeout:1e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function v(e,t,n,o,s,i){(0,U.saveData)({keys:["browse",e,t,n,o,s],data:i,maxAge:J})}function y(e,t){return i({keys:["thread",e,t],url:"/community/thread/"+e+a({page:t}),savingOptions:{maxAge:G},mockDataOptions:{timeout:1e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function g(e,t,n){(0,U.saveData)({keys:["thread",e,t],data:n,maxAge:G})}function b(e,t,n,o,s,r,l,u,c){var d=a({q:e,page:t,perPage:n,content:o,community:s,author:r,type:l,time:u,sortBy:c});return i({keys:["search",e.replace(/\s+/g,"-").toLowerCase(),t,n,o,s,r,l,u,c],url:"/search/filter"+d,savingOptions:{maxAge:X},mockDataOptions:{timeout:1e3},requestOptions:{jsonHeader:!0}})}function _(e){return(0,I.get)(_store.basePath+"/community/youtube/"+e+"/valid")}function w(e){if(_store.user.legacyId)return(0,I.put)(s()+"/api/core/v3/people/"+_store.user.legacyId+"/@following/"+e,{})}function E(e){if(_store.user.legacyId)return(0,I.del)(s()+"/api/core/v3/people/"+_store.user.legacyId+"/@following/"+e,{})}function k(e){if(_store.user.legacyId)return new Promise(function(t,n){(0,I.get)(s()+"/api/core/v3/people/"+_store.user.legacyId+"/@following/"+e,{}).then(function(){t(JSON.stringify({following:!0}))},function(e){409===JSON.parse(e.message).code?t(JSON.stringify({following:!1})):n(Error(404))})})}function S(e){return e?(0,I.post)(s()+"/__services/v2/rest/stream-config/user/associations/manage",{data:[{objectType:"1",objectID:e}],jsonHeader:!0,handlebarsHeader:!1}):void console.error("Unable to follow since the topic id is not present")}function A(e){return e?(0,I.del)(s()+"/__services/v2/rest/stream-config/1/"+e,{handlebarsHeader:!1}):void console.error("Unable to unfollow since the topic id is not present")}function T(e,t,n){return e?(0,I.post)(s()+"/message-abuse.jspa",{data:[{objectType:"1",objectID:e,abuseTypeKey:t,comment:n}],jsonHeader:!0,handlebarsHeader:!1}):void console.error("Unable to report since the topic id is not present")}function L(e){return e?(0,I.post)(s()+"/__services/v2/rest/stream-config/user/associations/manage",{data:[{objectType:"14",objectID:e}],jsonHeader:!0,handlebarsHeader:!1}):void console.error("Unable to follow since the community id is not present")}function O(e){return e?(0,I.del)(s()+"/__services/v2/rest/stream-config/14/"+e,{handlebarsHeader:!1}):void console.error("Unable to unfollow since the community id is not present")}function P(e){return(0,I.get)(s()+"/__services/v2/rest/askaquestion/?containerType=14&containerID=1&includeResultCount=true&wholeCommunityScope=true&recursive=false&q='"+e.trim()+"'")}function j(){}function C(e){var t=encodeURIComponent(e);return(0,I.get)(_store.basePath+"/signup/validate/"+t,{handlebarsHeader:!0})}function x(e){var t=encodeURIComponent(e);return(0,I.post)(_store.basePath+"/signup/create/"+t+"/"+!0,{handlebarsHeader:!0})}function M(e){return(0,I.get)(_store.basePath+"/search/user/filter?user="+e.trim())}function q(){return new Promise(function(e){setTimeout(function(){return e(Math.round(Math.random()))},200)})}function D(){_store||(_store={}),(0,U.initStorage)()}Object.defineProperty(t,"__esModule",{value:!0}),t.getGamificationData=r,t.getUserData=l,t.getLeaderBoardUsers=u,t.saveLeaderBoardUsers=c,t.getSubcommunityPosts=d,t.saveSubcommunityPosts=p,t.getArticlePosts=f,t.saveArticlePosts=h,t.getBrowsePosts=m,t.saveBrowsePosts=v,t.getThreadPosts=y,t.saveThreadPosts=g,t.getSearchResults=b,t.validateYouTubeVideo=_,t.followUser=w,t.unfollowUser=E,t.isFollowingUser=k,t.followTopic=S,t.unfollowTopic=A,t.reportTopic=T,t.followCommunity=L,t.unfollowCommunity=O,t.getSearchSuggesstions=P,t.isUsernameTaken=j,t.validateUserName=C,t.createUser=x,t.getUsersSuggestions=M,t.updateUserPreference=q,t.init=D;var I=n(15),R=n(4),B=o(R),H=n(1),N=o(H),U=n(17),Y=new B.default("Store"),K=N.default.USER_DATA_THROTTLE_TIME,F=N.default.LEADERBOARD_DATA_THROTTLE_TIME,W=N.default.SUBCOMMUNITY_POSTS_DATA_THROTTLE_TIME,z=N.default.ARTICLE_POSTS_DATA_THROTTLE_TIME,V=N.default.GAMIFICATION_DATA_MAX_AGE,J=N.default.BROWSE_POSTS_DATA_THROTTLE_TIME,G=N.default.THREAD_POSTS_DATA_THROTTLE_TIME,X=N.default.SEARCH_DATA_THROTTLE_TIME},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){Array.isArray(t)||(t=Array.from(t)),e&&e.addEventListener("keydown",function(e){e.shiftKey&&e.keyCode===s.default.TAB_KEY&&n()}),t&&t.length&&(t[0].addEventListener("keydown",function(e){e.shiftKey&&e.keyCode===s.default.TAB_KEY&&n()}),t[t.length-1].addEventListener("keydown",function(e){e.shiftKey||e.keyCode!==s.default.TAB_KEY||n()}),t[t.length-1].addEventListener("blur",function(){setTimeout(function(){t[t.length-2]===document.activeElement||n()},0)}),window.addEventListener("keydown",function(i){var a=document.activeElement,r=t.includes(a)||e&&e===a;i.keyCode===s.default.ESC_KEY&&r&&(o?o():n())}))};var o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o)},31:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),s=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(s),a=new i.default("Ajax response content wrapper"),r=void 0;t.default={showLoader:function(e){r=e.querySelector('[data-action="loading-ajax-data"]'),r?(0,o.showElement)(r):a.log("Loader element not found on the page")},hideLoader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;r=e.querySelector('[data-action="loading-ajax-data"]'),r?(0,o.hideElement)(r):a.log("Loader element not found on the page")},contentUpdated:function(e){var t=e.querySelector('[data-action="ajax-data-aria-live"]');t?t.focus():a.log("Aria live element not found on the page")}}},32:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(2),r=n(8),l=o(r),u=n(33),c=o(u),d=n(9),p=o(d),f=void 0,h=function(){function e(t){var n=this;s(this,e);var o=document.querySelectorAll('[data-action="pagination"]');if(o.length){this.first=[],this.prev=[],this.next=[],this.last=[],this.pageText=[],this.overlay=document.querySelectorAll('[data-analytics="pagination-overlay"]'),o.forEach(function(e){n.first.push(e.querySelector('[data-action="pagination-first"]')),n.prev.push(e.querySelector('[data-action="pagination-prev"]')),n.next.push(e.querySelector('[data-action="pagination-next"]'));var t=e.querySelector('[data-action="pagination-last"]');t&&n.last.push(t),n.pageText.push(e.querySelector('[data-action="pagination-page-number-text"]'))}),this._currentPage=parseInt(o[0].getAttribute("data-current-page"),10),this._futurePage=null,this._overlayShown=!1,this.disabled=!1,this.hasMore=!this.next[0].classList.contains("hidden"),this.totalPages=null,this.timeout=null;var i=parseInt(o[0].getAttribute("data-total-pages"),10);i&&(this.totalPages=parseInt(i,10)),this.overlay&&(this.pageTextMobile=document.querySelectorAll('[data-action="pagination-page-number-text-mobile"]')),this.cb=t.onPageChange,this.addEvents(),t.initialStateCb(this._currentPage,this.hasMore)}}return i(e,[{key:"addEvents",value:function(){var e=this,t=function(t,n){t.preventDefault(),e.disabled||(e.disabled=!0,e.futurePage=n)};this.first.forEach(function(e){e.addEventListener("click",function(e){t(e,1)})}),this.next.forEach(function(n){n.addEventListener("click",function(n){t(n,e.currentPage+1)})}),this.prev.forEach(function(n){n.addEventListener("click",function(n){t(n,e.currentPage-1)})}),this.last.forEach(function(n){n.addEventListener("click",function(n){t(n,e.totalPages)})}),this.overlay&&((0,c.default)("down",function(){e.overlayShown=!0,clearTimeout(e.timeout),e.timeout=setTimeout(function(){e.overlayShown=!1},3e3)}),(0,c.default)("up",function(){clearTimeout(e.timeout),e.overlayShown=!1}))}},{key:"pageChangeComplete",value:function(e){var t=e.status,n=e.hasMore;t&&(this.hasMore=n,this.currentPage=this.futurePage),this.disabled=!1}},{key:"reset",value:function(e){this.hasMore=e,this.currentPage=1}},{key:"currentPage",get:function(){return this._currentPage},set:function(e){var t=this;this._currentPage=e,this._currentPage<3?(0,a.hideElements)(this.first):(0,a.showElements)(this.first),this._currentPage<2?(0,a.hideElements)(this.prev):(0,a.showElements)(this.prev),this.hasMore?((0,a.showElements)(this.next),(0,a.showElements)(this.last)):((0,a.hideElements)(this.next),(0,a.hideElements)(this.last)),l.default.addParam("page",this._currentPage),this.pageText.forEach(function(e){t.totalPages?e.textContent=(0,p.default)(_store.i18n("common.pagination.pageOf"),t.currentPage,t.totalPages):e.textContent=(0,p.default)(_store.i18n("common.pagination.page"),t.currentPage)}),this.pageTextMobile&&this.pageTextMobile.forEach(function(e){e.textContent=(0,p.default)(_store.i18n("common.pagination.pageOfMobile"),t.currentPage,t.totalPages)});var n=this.hasMore?"?page="+(this._currentPage+1):"";this.next.forEach(function(e){e.setAttribute("href",n)});var o=1===this._currentPage?"":"?page="+(this._currentPage-1);this.prev.forEach(function(e){e.setAttribute("href",o)})}},{key:"futurePage",get:function(){return this._futurePage},set:function(e){this._futurePage=e,this.cb(this._futurePage)}},{key:"overlayShown",get:function(){return this._overlayShown},set:function(e){this._overlayShown=e,this._overlayShown?this.overlay.forEach(function(e){e.classList.add("shown")}):this.overlay.forEach(function(e){e.classList.remove("shown")})}}]),e}();t.default={reset:function(e){f.reset(e)},onPageChangeComplete:function(e){f.pageChangeComplete(e)},init:function(e){f=new h(e)}}},33:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){s.push(new i(e,t))};var s=[],i=function e(t,n){var s=this;o(this,e),this.cb=n,this.dir=t,this.initialPosition=0,this.disabled=!1,this.timeout=null,window.addEventListener("scroll",function(){s.disabled||(s.disabled=!0,s.initialPosition=window.scrollY,s.timeout=setTimeout(function(){var e=window.scrollY-s.initialPosition>300&&"down"===s.dir,t=window.scrollY-s.initialPosition<-300&&"up"===s.dir;(e||t)&&s.cb(),s.disabled=!1,s.initialPosition=window.scrollY},500))})}},4:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(8),a=function(e){return e&&e.__esModule?e:{default:e}}(i),r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";o(this,e),this.namespace=t,this.shouldLog="yup"===a.default.getParam("showLogs")}return s(e,[{key:"log",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.shouldLog&&console.log(this.namespace.toUpperCase()+": ",t)}}]),e}();t.default=r},5:function(e,t,n){"use strict";function o(e,t){var n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)}function s(e,t){window.addEventListener(e,function(e){t(e.detail)},!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.fire=o,t.on=s;t.messages={createPost:"create-post-mobile",toMobileSearch:"to-mobile-search",hideAllForVoiceover:"hide-all",showAllForVoiceover:"show-all",onloadPageSpecificData:"onload-page-specific-data",focusMobileSubNav:"focus-mobile-sub-nav"}},56:function(e,t,n){"use strict";function o(){for(var e=document.querySelectorAll("style"),t=!1,n=0;!t&&n<e.length;){if(e[n].hasAttribute("link")){var o=e[n].getAttribute("link");o&&o.length>0&&o.includes("highlightjs")&&(t=!0)}n++}if(!t){var s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("href",a),document.querySelector("head").appendChild(s)}}function s(){return new Promise(function(e){for(var t=document.querySelectorAll("script"),n=!1,o=0;!n&&o<t.length;){if(t[o].hasAttribute("src")){var s=t[o].getAttribute("link");s&&s.length>0&&s.includes("highlightjs")&&(n=!0)}o++}if(!n){var i=document.createElement("script");i.setAttribute("src",l),i.setAttribute("type","text/javascript"),document.querySelector("body").appendChild(i)}var a=void 0;window.hljs?e():a=setInterval(function(){window.hljs&&(clearInterval(a),e())},50)})}function i(e,t){var n=new Worker(r);n.onmessage=function(e){t(e.data)},n.postMessage(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.loadCodeHighlightingStyles=o,t.loadCodeHighlightingScript=s,t.highlightCodeAsync=i;var a="/public/scripts/highlightjs/xcode.css",r="/public/scripts/highlightjs/highlight.webworker.js",l="/public/scripts/highlightjs/highlight.pack.js"},6:function(e,t,n){"use strict";function o(e){var t=e.getAttribute("href");if(!t)return!1;for(var n=!1,o=0;!n&&o<f.length;)t.substring(0,f[o].length)===f[o]&&(n=!0),o++;return n}function s(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=function(e){n&&e.preventDefault(),t()};"A"===e.nodeName&&o(e)||(e.addEventListener("click",function(e){s(e)}),e.addEventListener("keydown",function(t){(t.keyCode===p.default.SPACE_KEY&&"A"!==e.nodeName||t.keyCode===p.default.ENTER_KEY)&&s(t)}))}function i(e,t){"A"===e.nodeName&&o(e)||e.addEventListener("contextmenu",function(){t()})}function a(e,t){s(e,function(){t();var n=e.getAttribute("href");/^https?:\/\//i.test(n)||"//"===n.substring(0,2)?window.location.href=n:window.location.href=window.location.origin+n}),i(e,t)}function r(e,t,n){a(e,function(){var o={link_text:e.textContent,dest_url:e.getAttribute("href")};n&&(o=Object.assign(o,n)),(0,c.onAction)(t,o)})}function l(e,t,n){function o(){e.checked?t():n&&n()}e.addEventListener("change",function(){o()}),e.addEventListener("keydown",function(e){e.keyCode!==p.default.ENTER_KEY&&e.keyCode!==p.default.SPACE_KEY||o()})}function u(e,t,n){s(e,function(){(0,c.onAction)(t,n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.addGeneralListeners=s,t.addRightClickListener=i,t.addListenersOnLink=a,t.addLinkListeners=r,t.addListenersOnCheckbox=l,t.addButtonListeners=u;var c=n(7),d=n(0),p=function(e){return e&&e.__esModule?e:{default:e}}(d),f=["mailto:","tel:"]},67:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;_.push(new E(e))};var a=n(26),r=o(a),l=n(29),u=o(l),c=n(1),d=o(c),p=n(3),f=n(56),h=n(68),m=o(h),v=n(69),y=d.default.TABLET_VIEWPORT_MAX_WIDTH,g="/public/scripts/highlightjs/xcode.css",b="https://www.youtube.com/iframe_api",_=[],w=document.querySelector("body"),E=function(){function e(t){s(this,e),this.parent=t,this.bodies=this.parent.querySelectorAll('[data-action="content-post-body"]'),this.bodyContents=t.querySelectorAll('[data-action="content-post-body-content"]'),this.bodyToggleButtons=t.querySelectorAll('[data-action="content-post-toggle-button"]'),this.prevWindowWidth=0,this.codeHighlightingLoaded=null!==document.querySelector('link[href="'+g+'"]'),this.youTubeScriptLoaded=null!==document.querySelector('script[src="'+b+'"]'),this.init()}return i(e,[{key:"renderYouTubeVideos",value:function(e,t){var n=this,o=Array.from(e.querySelectorAll("a[href]")).filter(function(e){var t=e.getAttribute("href").includes("youtube.com/watch"),n=e.hasAttribute("data-processed");return t&&!n});if(o.length){var s=function(e,t,n){new YT.Player(t,{videoId:e,events:{onReady:function(){n.style.display="none",t.classList.remove("iframe-placeholder"),t.classList.add("iframe")},onStateChange:function(t){var n=t.data;t.target.getCurrentTime()<.1&&n===YT.PlayerState.PLAYING?(0,v.videoStarted)(e):n===YT.PlayerState.ENDED&&(0,v.videoEnded)(e)}}})};o.forEach(function(e){e.setAttribute("data-processed",!0);var o=new URL(e.getAttribute("href")),i=o.searchParams.get("v");if(i){(0,p.validateYouTubeVideo)(i).then(function(o){if(JSON.parse(o).valid){n.youTubeScriptLoaded||n.loadYouTubeApis();var a=document.createElement("div");a.classList.add("iframe-placeholder"),e.parentNode.insertBefore(a,e),window.YT?s(i,a,e):(_store.youtubeVideos||(_store.youtubeVideos=[]),_store.youtubeVideos.push({id:i,element:a,link:e}),window.onYouTubeIframeAPIReady||(window.onYouTubeIframeAPIReady=function(){_store.youtubeVideos.forEach(function(e){s(e.id,e.element,e.link)}),_store.youtubeVideos=[]})),t&&t()}}).catch(function(e){console.error("Unable to verify YouTube video channel id.",e)})}})}}},{key:"loadYouTubeApis",value:function(){var e=document.createElement("script");e.src=b,document.querySelector("body").appendChild(e),this.youTubeScriptLoaded=!0}},{key:"highlighCode",value:function(){var e=this.parent.querySelectorAll("code");e.length&&(this.codeHighlightingLoaded||((0,f.loadCodeHighlightingStyles)(),this.codeHighlightingLoaded=!0),e.forEach(function(e){(0,f.highlightCodeAsync)(e.innerText,function(t){e.innerHTML=t})}))}},{key:"togglePostBodiesMobile",value:function(){var e=this,t=function(t,n){var o=e.constructor.getElementHeight(n);t.setAttribute("data-max-height",1.2*o)};window.innerWidth!==this.prevWindowWidth&&(this.prevWindowWidth=window.innerWidth,window.innerWidth>y?this.bodies.forEach(function(n,o){e.constructor.removeToggleFunctionalityFromBody(n),e.constructor.setBodyA11yProps(e.bodyContents[o],!1),e.renderYouTubeVideos(n,function(){t(n,e.bodyContents[o])})}):this.bodies.forEach(function(n,o){var s=e.constructor.getElementHeight(e.bodyContents[o]);s>250?(n.setAttribute("data-max-height",1.2*s),n.querySelectorAll("img").length&&e.constructor.onImagesLoaded(n,function(){t(n,e.bodyContents[o])}),e.renderYouTubeVideos(n,function(){t(n,e.bodyContents[o])}),n.classList.contains("toggleable")?n.classList.contains("collapsed")||(n.classList.remove("interactive"),n.style.maxHeight="150px",n.classList.add("collapsed"),e.constructor.setBodyA11yProps(e.bodyContents[o],!0),setTimeout(function(){n.classList.add("interactive")},0),e.bodyToggleButtons[o].setAttribute("aria-expanded",!1)):(n.style.maxHeight="150px",n.classList.add("collapsed"),n.classList.add("toggleable"),n.classList.add("interactive"),e.constructor.setBodyA11yProps(e.bodyContents[o],!0))):(e.constructor.removeToggleFunctionalityFromBody(n),e.constructor.setBodyA11yProps(e.bodyContents[o],!1))}))}},{key:"init",value:function(){var e=this,t=this.parent.querySelectorAll('[data-action="common-post-user"], [data-action="common-user-avatar"]');if(t){var n=[];t.forEach(function(e){n.push({element:e,id:e.getAttribute("data-user-id")})}),r.default.init(n)}(0,m.default)(this.parent);var o=this.parent.querySelectorAll('[data-action="content-post-drop-down"]');o&&u.default.init(o),this.highlighCode(),this.togglePostBodiesMobile(),this.bodyToggleButtons.forEach(function(t,n){t.setAttribute("aria-expanded",!1),t.addEventListener("click",function(){if(e.bodies[n].classList.contains("collapsed")){var o=e.bodies[n].getAttribute("data-max-height");e.bodies[n].style.maxHeight=o+"px",e.bodies[n].classList.remove("collapsed"),e.constructor.setBodyA11yProps(e.bodyContents[n],!1),e.bodyContents[n].focus(),t.setAttribute("aria-expanded",!0)}else e.bodies[n].style.maxHeight="150px",e.bodies[n].classList.add("collapsed"),e.constructor.setBodyA11yProps(e.bodyContents[n],!0),t.setAttribute("aria-expanded",!1)})}),window.addEventListener("resize",function(){e.togglePostBodiesMobile()})}}],[{key:"setBodyA11yProps",value:function(e,t){t?(e.setAttribute("aria-hidden","true"),e.querySelectorAll("a[href], iframe").forEach(function(e){e.setAttribute("tabindex","-1")})):(e.removeAttribute("aria-hidden"),e.querySelectorAll("a[href], iframe").forEach(function(e){e.removeAttribute("tabindex")}))}},{key:"removeToggleFunctionalityFromBody",value:function(e){e.classList.contains("toggleable")&&(e.classList.remove("interactive"),e.classList.remove("toggleable"),e.classList.remove("collapsed"),e.removeAttribute("style"))}},{key:"getElementHeight",value:function(e){var t=parseInt(e.offsetHeight,10);if(0===t){var n=e.cloneNode(!0);n.style.position="absolute",n.style.zIndex="-10000",w.appendChild(n);t=parseInt(n.offsetHeight,10),w.removeChild(n)}return t}},{key:"onImagesLoaded",value:function(e,t){var n=e.querySelectorAll("img"),o=[];n.forEach(function(e,t){o[t]=new Promise(function(t){e.complete&&e.naturalWidth?t():(e.addEventListener("load",function(){t()}),e.addEventListener("error",function(e){console.error("Error while loading image",e),t()}))})}),Promise.all(o).then(function(){t()})}}]),e}()},68:function(e,t,n){"use strict";function o(e){e.querySelectorAll('[data-action="content-post-me-too"]').forEach(function(e){var t=e.getAttribute("data-post-id");e.addEventListener("click",function(){e.classList.contains("button-checked")?(0,s.post)(_store.basePath+"/__services/v2/rest/metoo/2/"+t+"/removevote",{ratingType:"metoo"}).then(function(){e.classList.remove("button-checked"),e.classList.remove("button-black"),e.classList.add("button-white")}):(0,s.post)(_store.basePath+"/__services/v2/rest/metoo/2/"+t,{ratingType:"metoo",voteValue:1}).then(function(){e.classList.add("button-checked"),e.classList.add("button-black"),e.classList.remove("button-white")})})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){o(e)};var s=n(15)},69:function(e,t,n){"use strict";function o(e){(0,i.onAction)("thread:video:start",{v_played:e})}function s(e){(0,i.onAction)("thread:video:end",{v_played:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.videoStarted=o,t.videoEnded=s;var i=n(7)},7:function(e,t){e.exports=DTML},8:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){o(this,e),this.origin=window.location.origin,this.pathname=window.location.pathname,this.params=function(){var e=window.location.search.substr(1);if(!e)return{};var t={};return e.split("&").forEach(function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}),t}(),this.pathParts="/"===this.pathname.charAt(this.pathname.length-1)?this.pathname.substring(1,this.pathname.length-1).split("/"):this.pathname.substring(1,this.pathname.length).split("/")}return s(e,[{key:"addParam",value:function(e,t){this.params[e]=t,this.setWindowURL()}},{key:"removeParam",value:function(e){delete this.params[e],this.setWindowURL()}},{key:"getParam",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.params[e]||t}},{key:"getCurrentURL",value:function(){var e=this,t="";return Object.keys(this.params).forEach(function(n){t+=n+"="+encodeURIComponent(e.params[n])+"&"}),t=t.substr(0,t.length-1)}},{key:"setWindowURL",value:function(){var e=this.getCurrentURL();e&&(e="?"+e),window.history.pushState(null,null,""+this.origin+this.pathname+e)}}]),e}();t.default=new i},9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],s=t;return s.shift(),s.forEach(function(e,t){o=o.replace("{"+t+"}",e)}),o}}});